<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Packages (ANSI Common Lisp)</title>

<meta name="description" content="Packages (ANSI Common Lisp)">
<meta name="keywords" content="Packages (ANSI Common Lisp)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="Table-of-Contents.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Numbers.html#Numbers" rel="next" title="Numbers">
<link href="Symbols.html#unbound_002dvariable" rel="prev" title="unbound-variable">
<style type="text/css">
<!--
/*
CSS for TexInfo/HTML files.

Copyright (C) 2015-2021 Assaf Gordon (assafgordon@gmail.com)

License:
GNU All Permissive License
https://www.gnu.org/prep/maintain/html_node/License-Notices-for-Other-Files.html

 Copying and distribution of this file, with or without modification,
 are permitted in any medium without royalty provided the copyright
 notice and this notice are preserved.  This file is offered as-is,
 without any warranty.


The used tags/classes were collected from a Texinfo-generated HTML using:

  cd coreutils
  makeinfo --html --no-split -o coreutils.html doc/coreutils.texi
  cat coreutils.html | sed 's/</\n</g' | sed 's;>.*;>;g' \
         | grep '^<' | grep 'class=' | sort -u \
         | perl -lane 'm/<(\w+) .*class="([-\w]+)"/ ; print $1, "\t", $2' \
         | sort -u

*/

a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {
  font-family: sans-serif;
  font-size: 16px;
  margin: 1em;

  overflow-x: hidden; /* Coupled with the div.header trick,
			 this will extend the header lines
			 access the entire page width without causing
			 a horizontal scroll bar to appear. */
}


a {
  text-decoration: none;
  outline-style: none;
  color: blue;
}
a:visited {
  color: rgb(16,0,112);
}
a:hover {
  text-decoration: underline;
}


/*****************************************************
   Titles / Headers
******************************************************/

/* @settitle:
   The title of the document at the top of the document/header */
h1.settitle {
  color: rgb(51,70,131);
  text-shadow: rgb(153,153,153) 1px 1px 0px;
}

/* The title at the beginning of the document, before the @menu */
h1.top {
  color: rgb(51,70,131);
  text-shadow: rgb(153,153,153) 1px 1px 0px;
}

/* @chapter */
h2.chapter {
}

h2.appendix { }
h2.unnumbered { }

/* @section */
h3.section {
}
/* @unnumberedsec */
h3.unnumberedsec {
}
/* @heading (seems to be only used in fdl.texi) */
h3.heading {
}

/* @subsection */
h4.subsection {
}


/**************************************************
  Short Contents (if @shortcontents command is used)
***************************************************/
h2.shortcontents-heading { }
div.shortcontents { }
div.shortcontents ul { }
div.shortcontents ul li { }


/**************************************************
  Contents (if @contents command is used)
***************************************************/
h2.contents-heading { }
div.contents { }
div.contents ul { }
div.contents ul li { }


/* The @menu table */
table.menu { }
pre.menu-comment {}



/************************************
  @example   and   @verbatim
************************************/
div.example {
  margin-left: 2em;
  margin-right: 2em;
}
div.example pre.example {
  /* Round Corners */
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #c0c0c0;

  padding: 1ex;
  background-color: #f3f3f3;
}

/* Note: @verbatim is also rendered inside a 'div.example' */
div.example pre.verbatim {
  /* Round Corners */
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #c0c0c0;

  padding: 1ex;
  background-color: #f3f3f3;
}



/************************************
  @smallexample
************************************/
div.smallexample {
}
div.smallexample pre.smallexample {
}

/***********************************
  @display
***********************************/
div.display {
}
div.display pre.display {
}



/**************************************
  @footnote
**************************************/
div.footnote { }
h4.footnotes-heading { }

/**************************************
The header at the top of each page / section
(the next/previous/top/up links)
**************************************/
div.header {
   padding-top: 0.5ex;
   padding-bottom: 0.5ex;
   background-color: #ddddff;

   /* This will extend the background color of the header
      bar to the entire width of the page (and beyond),
      requires 'overflow-x: hidden' in the 'body'. */
   /*padding-left: 3000px;
   margin-left: -3000px;
   padding-right: 3000px;
   margin-right: -3000px;*/
}

/* Disable any additional margins */
div.header p {
    margin: 0;
}
div.header p a {
    color: blue;
}


/**************************************
   @table is rendered as <dl> (defnition list),
   @item  is rendered as <dt> (definition term),
   text is rendered as <dd> (definition description)
**************************************/
dl {
   margin: 0 1em;
}
dl dt {
   margin: 1em 0;
}
dl dd {
   margin-left: 2em;
}

/*******************************************************
  Text Styles
*******************************************************/

/* @var{} */
var {
  color: #CC0000;
}

/* @samp{} */
samp {
  color: #6600CC;
}

/* @env{} will result in <p><code>X</code></p> */
p code {
	border-radius: 5px;
	padding-left: 3px;
	padding-right: 3px;
	background-color: rgba(175,184,193,0.2);
}

/* p code { */
/*   color: #532c14; */
/* } */

/* @option{} */
span.nocodebreak {
  color: #5D4C46;
}

pre.lisp {
	background-color: rgba(175,184,193,0.2);
	border-radius: 5px;
	padding-top: 5px;
	padding-bottom: 5px;
}

body {
    padding-left: 100px;
    padding-right: 100px;
}

-->
</style>


</head>

<body lang="en">
<span id="Packages"></span><div class="header">
<p>
Next: <a href="Numbers.html#Numbers" accesskey="n" rel="next">Numbers</a>, Previous: <a href="Symbols.html#Symbols" accesskey="p" rel="prev">Symbols</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Packages-1"></span><h2 class="chapter">11 Packages</h2>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Package-Concepts" accesskey="1">Package Concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Dictionary

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#package" accesskey="2">package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#export" accesskey="3">export</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#find_002dsymbol" accesskey="4">find-symbol</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#find_002dpackage" accesskey="5">find-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#find_002dall_002dsymbols" accesskey="6">find-all-symbols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#import" accesskey="7">import</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#list_002dall_002dpackages" accesskey="8">list-all-packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#rename_002dpackage" accesskey="9">rename-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#shadow">shadow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#shadowing_002dimport">shadowing-import</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#delete_002dpackage">delete-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#make_002dpackage">make-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#with_002dpackage_002diterator">with-package-iterator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#unexport">unexport</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#unintern">unintern</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#in_002dpackage">in-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#unuse_002dpackage">unuse-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#use_002dpackage">use-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#defpackage">defpackage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#do_002dsymbols_003b-do_002dexternal_002dsymbols_003b-do_002dall_002dsymbols">do-symbols; do-external-symbols; do-all-symbols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#intern">intern</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002dname">package-name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002dnicknames">package-nicknames</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002dshadowing_002dsymbols">package-shadowing-symbols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002duse_002dlist">package-use-list</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002dused_002dby_002dlist">package-used-by-list</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#packagep">packagep</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002apackage_002a">*package*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002derror">package-error</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#package_002derror_002dpackage">package-error-package</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Package-Concepts"></span><div class="header">
<p>
Next: <a href="#package" accesskey="n" rel="next">package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Package-Concepts-1"></span><h3 class="section">11.1 Package Concepts</h3>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Introduction-to-Packages" accesskey="1">Introduction to Packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Standardized-Packages" accesskey="2">Standardized Packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>
<hr>
<span id="Introduction-to-Packages"></span><div class="header">
<p>
Next: <a href="#Standardized-Packages" accesskey="n" rel="next">Standardized Packages</a>, Up: <a href="#Package-Concepts" accesskey="u" rel="up">Package Concepts</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Introduction-to-Packages-1"></span><h4 class="subsection">11.1.1 Introduction to Packages</h4>

<p>A <span id="index-package"></span>
<em>package</em> establishes a mapping from names to <i>symbols</i>. 
At any given time, one <i>package</i> is current.
The <span id="index-current-package"></span>
<em>current package</em> is the one that is the <i>value</i> of <code>*package*</code>.
When using the <i>Lisp reader</i>,
it is possible to refer to <i>symbols</i> in <i>packages</i> 
other than the current one through the use of <i>package prefixes</i> in the 
printed representation of the <i>symbol</i>.
</p>
<p>The next figure&nbsp;<!-- /@w -->lists some <i>defined names</i> that are applicable
to <i>packages</i>.
Where an <i>operator</i> 
takes an argument that is either a <i>symbol</i> or a <i>list</i> 
of <i>symbols</i>,
an argument of <code>nil</code>&nbsp;<!-- /@w -->is treated as an empty <i>list</i> of <i>symbols</i>.
Any <var>package</var> argument may be either a <i>string</i>, a <i>symbol</i>, or
a <i>package</i>.  If a <i>symbol</i> is supplied, its name will be used
as the <i>package</i> name.
</p>
<div class="float"><span id="fig11_002e1"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>*modules*</td><td>import</td><td>provide</td></tr>
<tr><td>*package*</td><td>in-package</td><td>rename-package</td></tr>
<tr><td>defpackage</td><td>intern</td><td>require</td></tr>
<tr><td>do-all-symbols</td><td>list-all-packages</td><td>shadow</td></tr>
<tr><td>do-external-symbols</td><td>make-package</td><td>shadowing-import</td></tr>
<tr><td>do-symbols</td><td>package-name</td><td>unexport</td></tr>
<tr><td>export</td><td>package-nicknames</td><td>unintern</td></tr>
<tr><td>find-all-symbols</td><td>package-shadowing-symbols</td><td>unuse-package</td></tr>
<tr><td>find-package</td><td>package-use-list</td><td>use-package</td></tr>
<tr><td>find-symbol</td><td>package-used-by-list</td><td></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 11.1: </strong>Some Defined Names related to Packages</p></div></div>

<span id="Package-Names-and-Nicknames"></span><h4 class="subsubsection">11.1.1.1 Package Names and Nicknames</h4>

<p>Each <i>package</i> has a <i>name</i> (a <i>string</i>) and perhaps some <i>nicknames</i>
(also <i>strings</i>).
These are assigned when the <i>package</i> is created and can be changed later.  
</p>
<p>There is a single namespace for <i>packages</i>.  
The <i>function</i> <code>find-package</code> translates a package
<i>name</i> or <i>nickname</i> into the associated <i>package</i>.  
The <i>function</i> <code>package-name</code> returns the <i>name</i> of a <i>package</i>.  
The <i>function</i> <code>package-nicknames</code> returns 
a <i>list</i> of all <i>nicknames</i> for a <i>package</i>.
<code>rename-package</code> removes a <i>package</i>&rsquo;s
current <i>name</i> and <i>nicknames</i> and replaces them with new ones
specified by the caller.
</p>

<span id="Symbols-in-a-Package"></span><h4 class="subsubsection">11.1.1.2 Symbols in a Package</h4>

<span id="g_t11_002e1_002e1_002e2_002e1-Internal-and-External-Symbols"></span><h4 class="unnumberedsubsubsec">11.1.1.2.1 Internal and External Symbols</h4>


<p>The mappings in a <i>package</i> are divided into two classes, external and internal.
The <i>symbols</i> targeted by these different mappings 
are called <i>external symbols</i> and <i>internal symbols</i>
<span id="index-internal-symbol"></span>
of the
<i>package</i>. Within a <i>package</i>, a name refers to one
<i>symbol</i> or to none; if it does refer
to a <i>symbol</i>, then it is either external or internal in that
<i>package</i>, but not both.
<span id="index-external-symbol"></span>
<em>External symbols</em>
are part of the package&rsquo;s public interface to other <i>packages</i>.
<i>Symbols</i> become <i>external symbols</i> of a given
<i>package</i> if they have been <i>exported</i> from that <i>package</i>.
</p>
<p>A <i>symbol</i> has the same <i>name</i> no matter what <i>package</i> 
it is <i>present</i> in, but it might be an <i>external symbol</i> of some <i>packages</i>
and an <i>internal symbol</i> of others. 
</p>

<span id="g_t11_002e1_002e1_002e2_002e2-Package-Inheritance"></span><h4 class="unnumberedsubsubsec">11.1.1.2.2 Package Inheritance</h4>


<p><i>Packages</i> can be built up in layers.  From one point of view,
a <i>package</i> is a single collection
of mappings from <i>strings</i> into <i>internal symbols</i> and 
<i>external symbols</i>.
However, some of these mappings might be established within the <i>package</i> 
itself, while other mappings are inherited from other <i>packages</i> 
via <code>use-package</code>.
A <i>symbol</i> is said to be <span id="index-present"></span>
<em>present</em> in a <i>package</i> 
if the mapping is in the <i>package</i> itself and is
not inherited from somewhere else.
</p>
<p>There is no way to inherit the <i>internal symbols</i> of another <i>package</i>;
to refer to an <i>internal symbol</i> using the <i>Lisp reader</i>, 
a <i>package</i> containing the <i>symbol</i> 
must be made to be the <i>current package</i>,
a <i>package prefix</i> must be used,
or the <i>symbol</i> must be <i>imported</i> into the <i>current package</i>.
</p>

<span id="g_t11_002e1_002e1_002e2_002e3-Accessibility-of-Symbols-in-a-Package"></span><h4 class="unnumberedsubsubsec">11.1.1.2.3 Accessibility of Symbols in a Package</h4>


<p>A <i>symbol</i> becomes <span id="index-accessible"></span>
<em>accessible</em> in a <i>package</i> 
if that is its <i>home package</i> when it is created,
or if it is <i>imported</i> into that <i>package</i>,
or by inheritance via <code>use-package</code>.
</p>
<p>If a <i>symbol</i> is <i>accessible</i> in a <i>package</i>,
it can be referred to when using the <i>Lisp reader</i>
without a <i>package prefix</i> when that <i>package</i> is the <i>current package</i>,
regardless of whether it is <i>present</i> or inherited.
</p>
<p><i>Symbols</i> from one <i>package</i> can be made <i>accessible</i> 
in another <i>package</i> in two ways.
</p>

<ul class="no-bullet">
<li>&ndash; Any individual <i>symbol</i> can be added to a <i>package</i> by use
of <code>import</code>.  After the call to <code>import</code> the
<i>symbol</i> is <i>present</i> in the importing <i>package</i>.
The status of the <i>symbol</i> in the <i>package</i> 
it came from (if any) is unchanged, and the <i>home package</i> for
this <i>symbol</i> is unchanged.
Once <i>imported</i>, a <i>symbol</i> is <i>present</i> in the
importing <i>package</i>
and can be removed only by calling <code>unintern</code>.

<p>A <i>symbol</i> is <i>shadowed</i><sub>3</sub>
in some <i>package</i> if the first <i>symbol</i> would be <i>accessible</i>
by inheritance if not for the presence of the second <i>symbol</i>.
See <code>shadowing-import</code>.
</p>
</li><li>&ndash; The second mechanism for making <i>symbols</i> from one <i>package</i>
<i>accessible</i> in another is provided by <code>use-package</code>.  
All of the <i>external symbols</i> of the used <i>package</i> are inherited
by the using <i>package</i>.
The <i>function</i> <code>unuse-package</code> undoes the effects of a previous <code>use-package</code>.  
</li></ul>



<span id="g_t11_002e1_002e1_002e2_002e4-Locating-a-Symbol-in-a-Package"></span><h4 class="unnumberedsubsubsec">11.1.1.2.4 Locating a Symbol in a Package</h4>


<p>When a <i>symbol</i> is to be located in a given <i>package</i> 
the following occurs:
</p>
<ul class="no-bullet">
<li>&ndash; The <i>external symbols</i> and <i>internal symbols</i> of the 
<i>package</i> are searched for the <i>symbol</i>.
</li><li>&ndash; The <i>external symbols</i> of the used <i>packages</i> are 
searched
in some unspecified order.  The
order does not matter; see the rules for handling name
conflicts listed below. 
</li></ul>



<span id="g_t11_002e1_002e1_002e2_002e5-Prevention-of-Name-Conflicts-in-Packages"></span><h4 class="unnumberedsubsubsec">11.1.1.2.5 Prevention of Name Conflicts in Packages</h4>


<p>Within one <i>package</i>, any particular name can refer to at most one
<i>symbol</i>.  A name conflict is said to occur when there would be more than
one candidate <i>symbol</i>.  Any time a name conflict is about to occur,
a <i>correctable</i> <i>error</i> is signaled.  
</p>
<p>The following rules apply to name conflicts:
</p>
<ul class="no-bullet">
<li>&ndash; Name conflicts are detected when they become possible, that is, when the
package structure is altered.  Name
conflicts are not checked during every name lookup.

</li><li>&ndash; If the <i>same</i> <i>symbol</i> is <i>accessible</i> to a <i>package</i> 
through more than one path, there is no name conflict.
A <i>symbol</i> cannot conflict with itself. 
Name conflicts occur only between <i>distinct</i> <i>symbols</i> with
the same name (under <code>string=</code>).

</li><li>&ndash; Every <i>package</i> has a list of shadowing <i>symbols</i>.  
A shadowing <i>symbol</i> takes precedence over any other <i>symbol</i> of
the same name that would otherwise be <i>accessible</i> in the <i>package</i>.  
A name conflict involving a shadowing symbol is always resolved in favor of
the shadowing <i>symbol</i>, without signaling an error (except for one
exception involving <code>import</code>).
See <code>shadow</code> and <code>shadowing-import</code>.

</li><li>&ndash; The functions <code>use-package</code>, <code>import</code>, and 
<code>export</code> check for name conflicts.  

</li><li>&ndash; <code>shadow</code> and <code>shadowing-import</code> 
never signal a name-conflict error.

</li><li>&ndash; <code>unuse-package</code> and <code>unexport</code>
do not need to do any name-conflict checking.
<code>unintern</code> does name-conflict checking only when a <i>symbol</i> 
being <i>uninterned</i> is a <i>shadowing symbol</i>
<span id="index-shadowing-symbol"></span>
.

</li><li>&ndash; Giving a shadowing symbol to <code>unintern</code> 
can uncover a name conflict that had
previously been resolved by the shadowing.  

</li><li>&ndash; Package functions signal name-conflict errors of <i>type</i> <code>package-error</code> before making any
change to the package structure.  When multiple changes are to be made,
it is
permissible for the implementation to process each change separately.
For example, when <code>export</code> is given a 
<i>list</i> of 
<i>symbols</i>,
aborting from a name
conflict caused by the second <i>symbol</i> 
in the <i>list</i> might still export the
first <i>symbol</i> in the <i>list</i>.  
However, a name-conflict error caused by <code>export</code>
of a single <i>symbol</i> will be signaled before
that <i>symbol</i>&rsquo;s <i>accessibility</i> in any <i>package</i> is changed.

</li><li>&ndash; Continuing from a name-conflict error must offer the user a chance to
resolve the name conflict in favor of either of the candidates.  The
<i>package</i> 
structure should be altered to reflect the resolution of the
name conflict, via <code>shadowing-import</code>, 
<code>unintern</code>,
or <code>unexport</code>.

</li><li>&ndash; A name conflict in <code>use-package</code> between a <i>symbol</i> 
<i>present</i> in the using <i>package</i> and an <i>external symbol</i> of the used 
<i>package</i> is resolved in favor of the first <i>symbol</i> by making it a
shadowing <i>symbol</i>, or in favor of the second <i>symbol</i> by uninterning
the first <i>symbol</i> from the using <i>package</i>. 

</li><li>&ndash; A name conflict in <code>export</code> or <code>unintern</code> 
due to a <i>package</i>&rsquo;s inheriting two <i>distinct</i> <i>symbols</i> 
with the <i>same</i> <i>name</i> (under <code>string=</code>)
from two other <i>packages</i> can be resolved in
favor of either <i>symbol</i> by importing it into the using
<i>package</i> and making it a <i>shadowing symbol</i>
<span id="index-shadowing-symbol-1"></span>
,
just as with <code>use-package</code>.
</li></ul>





<hr>
<span id="Standardized-Packages"></span><div class="header">
<p>
Previous: <a href="#Introduction-to-Packages" accesskey="p" rel="prev">Introduction to Packages</a>, Up: <a href="#Package-Concepts" accesskey="u" rel="up">Package Concepts</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Standardized-Packages-1"></span><h4 class="subsection">11.1.2 Standardized Packages</h4>

<p>This section describes the <i>packages</i> that are available
in every <i>conforming implementation</i>.  A summary of the
<i>names</i> and <i>nicknames</i> of those <i>standardized</i> <i>packages</i> 
is given in the next figure.
</p>

<div class="float"><span id="fig11_002e2"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<thead><tr><th>Name</th><th>Nicknames</th></tr></thead>
<tr><td><code>COMMON-LISP</code></td><td><code>CL</code></td></tr>
<tr><td><code>COMMON-LISP-USER</code></td><td><code>CL-USER</code></td></tr>
<tr><td><code>KEYWORD</code></td><td><i>none</i></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 11.2: </strong>Standardized Package Names</p></div></div>



<span id="The-COMMON_002dLISP-Package"></span><h4 class="subsubsection">11.1.2.1 The COMMON-LISP Package</h4>
<span id="index-COMMON_002dLISP-1"></span>
<span id="index-CL"></span>


<p>The <code>COMMON-LISP</code> <i>package</i> contains the primitives of the <span class="roman">Common Lisp</span>&nbsp;<!-- /@w -->system as
defined by this specification.  Its <i>external</i> <i>symbols</i> include
all of the <i>defined names</i> (except for <i>defined names</i> in
the <code>KEYWORD</code> <i>package</i>) that are present in the <span class="roman">Common Lisp</span>&nbsp;<!-- /@w -->system, 
such as <code>car</code>, <code>cdr</code>,  <code>*package*</code>, etc.
The <code>COMMON-LISP</code> <i>package</i> has the <i>nickname</i> <code>CL</code>.
</p>
<p>The <code>COMMON-LISP</code> <i>package</i> has as <i>external</i> <i>symbols</i> those 
symbols enumerated in the figures in <a href="Introduction.html#Symbols-in-the-COMMON_002dLISP-Package">Section 1.9 (Symbols in the COMMON-LISP Package)</a>, and no others.
These <i>external</i> <i>symbols</i> are <i>present</i> in the <code>COMMON-LISP</code> <i>package</i>
but their <i>home package</i> need not be the <code>COMMON-LISP</code> <i>package</i>.
</p>
<p>For example, the symbol <code>HELP</code> cannot be an <i>external symbol</i> of
the <code>COMMON-LISP</code> <i>package</i> because it is not mentioned in <a href="Introduction.html#Symbols-in-the-COMMON_002dLISP-Package">Section 1.9 (Symbols in the COMMON-LISP Package)</a>.
In contrast, the <i>symbol</i> <tt>variable</tt>
must be an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> 
even though it has no definition
because it is listed in that section
(to support its use as a valid second <i>argument</i> to the <i>function</i> <code>documentation</code>). 
</p>
<p>The <code>COMMON-LISP</code> <i>package</i> can have additional <i>internal symbols</i>.
</p>
<span id="g_t11_002e1_002e2_002e1_002e1-Constraints-on-the-COMMON_002dLISP-Package-for-Conforming-Implementations"></span><h4 class="unnumberedsubsubsec">11.1.2.1.1 Constraints on the COMMON-LISP Package for Conforming Implementations</h4>


<p>In a <i>conforming implementation</i>,
an <i>external</i> <i>symbol</i> of the <code>COMMON-LISP</code> <i>package</i> can have
a <i>function</i>, <i>macro</i>, or <i>special operator</i> definition, 
a <i>global variable</i> definition
(or other status as a <i>dynamic variable</i> 
due to a <code>special</code> <i>proclamation</i>),
or a <i>type</i> definition
only if explicitly permitted in this standard.
For example,
<code>fboundp</code> <i>yields</i> <i>false</i> 
for any <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> 
that is not the <i>name</i> of a <i>standardized</i> 
<i>function</i>, <i>macro</i> or <i>special operator</i>,
and
<code>boundp</code> returns <i>false</i> 
for any <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> 
that is not the <i>name</i> of a <i>standardized</i> <i>global variable</i>.
It also follows that
<i>conforming programs</i> can use <i>external symbols</i> of the <code>COMMON-LISP</code> <i>package</i> 
as the <i>names</i> of local <i>lexical variables</i> 
with confidence that those <i>names</i> have not been <i>proclaimed</i> <code>special</code> 
by the <i>implementation</i>
unless those <i>symbols</i> are
<i>names</i> of <i>standardized</i> <i>global variables</i>.
</p>
<p>A <i>conforming implementation</i> must not place any <i>property</i> on
an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> using a <i>property indicator</i>
that is either an <i>external symbol</i> of any <i>standardized</i> <i>package</i>
or a <i>symbol</i> that is otherwise <i>accessible</i> in the <code>COMMON-LISP-USER</code> <i>package</i>.
</p>

<span id="g_t11_002e1_002e2_002e1_002e2-Constraints-on-the-COMMON_002dLISP-Package-for-Conforming-Programs"></span><h4 class="unnumberedsubsubsec">11.1.2.1.2 Constraints on the COMMON-LISP Package for Conforming Programs</h4>

<span id="index-redefinition"></span>
<p>Except where explicitly allowed, the consequences are undefined if any
of the following actions are performed on an <i>external symbol</i> 
of the <code>COMMON-LISP</code> <i>package</i>:
</p>

<ol>
<li> <i>Binding</i> or altering its value (lexically or dynamically).
(Some exceptions are noted below.)

</li><li> Defining, 
undefining, 
or <i>binding</i> it as a <i>function</i>.
(Some exceptions are noted below.)

</li><li> Defining,
undefining, 
or <i>binding</i> it as a <i>macro</i>
or <i>compiler macro</i>.
(Some exceptions are noted below.)

</li><li> Defining it as a <i>type specifier</i> 
(via <code>defstruct</code>, 
<code>defclass</code>,
<code>deftype</code>,
<code>define-condition</code>).

</li><li> Defining it as a structure (via <code>defstruct</code>).

</li><li> Defining it as a <i>declaration</i> 
with a <code>declaration</code> <i>proclamation</i>.

</li><li> Defining it as a <i>symbol macro</i>.

</li><li> Altering its <i>home package</i>.

</li><li> Tracing it  (via <code>trace</code>).

</li><li> Declaring or proclaiming it
<code>special</code>
(via <tt>declare</tt>,
<code>declaim</code>,
or <code>proclaim</code>).

</li><li> Declaring or proclaiming its <code>type</code> or <code>ftype</code>
(via <tt>declare</tt>,
<code>declaim</code>,
or <code>proclaim</code>).
(Some exceptions are noted below.)

</li><li> Removing it from the <code>COMMON-LISP</code> <i>package</i>.


</li><li> Defining a <i>setf expander</i> for it 
(via <code>defsetf</code> or <code>define-setf-method</code>).

</li><li> Defining, undefining, or binding its <i>setf function name</i>.

</li><li> Defining it as a <i>method combination</i> type 
(via <code>define-method-combination</code>).

</li><li> Using it as the class-name argument 
to <code>setf</code> of <code>find-class</code>.

</li><li> Binding it as a <i>catch tag</i>.

</li><li> Binding it as a <i>restart</i> <i>name</i>.

</li><li> Defining a <i>method</i> 
for a <i>standardized</i> <i>generic function</i> 
which is <i>applicable</i> when all of the <i>arguments</i>
are <i>direct instances</i> of <i>standardized</i> <i>classes</i>.

</li></ol>


<span id="g_t11_002e1_002e2_002e1_002e2_002e1-Some-Exceptions-to-Constraints-on-the-COMMON_002dLISP-Package-for-Conforming-Programs"></span><h4 class="unnumberedsubsubsec">11.1.2.1.2.1 Some Exceptions to Constraints on the COMMON-LISP Package for Conforming Programs</h4>


<p>If an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i>
is not globally defined as a <i>standardized</i> <i>dynamic variable</i> 
or <i>constant variable</i>,
it is allowed to lexically <i>bind</i> it 
and to declare the <code>type</code> of that <i>binding</i>, 
and
it is allowed to locally <i>establish</i> it as a <i>symbol macro</i> 
(<i>e.g.</i>, with <code>symbol-macrolet</code>).
</p>
<p>Unless explicitly specified otherwise,
if an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> 
is globally defined as a <i>standardized</i> <i>dynamic variable</i>,
it is permitted to <i>bind</i> or <i>assign</i> that <i>dynamic variable</i>
provided that the &ldquo;Value Type&rdquo; constraints on the <i>dynamic variable</i> 
are maintained, and that the new <i>value</i> of the <i>variable</i> 
is consistent with the stated purpose of the <i>variable</i>.
</p>
<p>If an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> is not defined
as a <i>standardized</i> <i>function</i>, <i>macro</i>, or <i>special operator</i>,
it is allowed to lexically <i>bind</i> it as a <i>function</i> (<i>e.g.</i>, with <code>flet</code>),
to declare the <code>ftype</code> of that <i>binding</i>, 
and 
(in <i>implementations</i> which provide the ability to do so)
to <code>trace</code> that <i>binding</i>.
</p>
<p>If an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> is not defined
as a <i>standardized</i> <i>function</i>, <i>macro</i>, or <i>special operator</i>,
it is allowed to lexically <i>bind</i> it as a <i>macro</i> (<i>e.g.</i>, with <code>macrolet</code>).
</p>

<p>If an <i>external symbol</i> of the <code>COMMON-LISP</code> <i>package</i> is not defined 
as a <i>standardized</i> <i>function</i>, <i>macro</i>, or <i>special operator</i>,
it is allowed to lexically <i>bind</i> its <i>setf function name</i>
as a <i>function</i>,
and to declare the <code>ftype</code> of that <i>binding</i>.
</p>



<span id="The-COMMON_002dLISP_002dUSER-Package"></span><h4 class="subsubsection">11.1.2.2 The COMMON-LISP-USER Package</h4>
<span id="index-COMMON_002dLISP_002dUSER"></span>
<span id="index-CL_002dUSER"></span>

<p>The <code>COMMON-LISP-USER</code> <i>package</i> is the <i>current package</i> when 
a <span class="roman">Common Lisp</span>&nbsp;<!-- /@w -->system starts up.  This <i>package</i> <i>uses</i> the <code>COMMON-LISP</code> <i>package</i>.
The <code>COMMON-LISP-USER</code> <i>package</i> has the <i>nickname</i> <code>CL-USER</code>.
The <code>COMMON-LISP-USER</code> <i>package</i> can have additional <i>symbols</i> <i>interned</i> within it;
it can <i>use</i> other <i>implementation-defined</i> <i>packages</i>.
</p>

<span id="The-KEYWORD-Package"></span><h4 class="subsubsection">11.1.2.3 The KEYWORD Package</h4>
<span id="index-KEYWORD"></span>

<p>The <code>KEYWORD</code> <i>package</i> contains <i>symbols</i>, called <i>keywords</i><sub>1</sub>
that are typically used as special markers in <i>programs</i> 
and their associated data <i>expressions</i><sub>1</sub>
</p>
<p><i>Symbol</i> <i>tokens</i> that start with a <i>package marker</i> 
are parsed by the <i>Lisp reader</i> as <i>symbols</i> 
in the <code>KEYWORD</code> <i>package</i>; see <a href="Syntax.html#Symbols-as-Tokens">Section 2.3.4 (Symbols as Tokens)</a>.
This makes it notationally convenient to use <i>keywords</i>
when communicating between programs in different <i>packages</i>.  
For example, the mechanism for passing <i>keyword parameters</i> in a <i>call</i> uses 
<i>keywords</i><sub>1</sub>
see <a href="Evaluation-and-Compilation.html#Ordinary-Lambda-Lists">Section 3.4.1 (Ordinary Lambda Lists)</a>.
</p>
<p><i>Symbols</i> in the <code>KEYWORD</code> <i>package</i> are, by definition, of <i>type</i> <code>keyword</code>.
</p>
<span id="g_t11_002e1_002e2_002e3_002e1-Interning-a-Symbol-in-the-KEYWORD-Package"></span><h4 class="unnumberedsubsubsec">11.1.2.3.1 Interning a Symbol in the KEYWORD Package</h4>


<p>The <code>KEYWORD</code> <i>package</i> is treated differently than other <i>packages</i>
in that special actions are taken when a <i>symbol</i> is <i>interned</i> in it.
In particular, when a <i>symbol</i> is <i>interned</i> in the <code>KEYWORD</code> <i>package</i>,
it is automatically made to be an <i>external symbol</i> 
and is automatically made to be a <i>constant variable</i> with itself as a <i>value</i>.
</p>

<span id="g_t11_002e1_002e2_002e3_002e2-Notes-about-The-KEYWORD-Package"></span><h4 class="unnumberedsubsubsec">11.1.2.3.2 Notes about The KEYWORD Package</h4>


<p>It is generally best to confine the use of <i>keywords</i> to situations in which
there are a finitely enumerable set of names to be selected between.  For example,
if there were two states of a light switch, they might be called <tt>:on</tt> and <tt>:off</tt>.
</p>
<p>In situations where the set of names is not finitely enumerable
(<i>i.e.</i>, where name conflicts might arise)
it is frequently best to use <i>symbols</i> in some <i>package</i>
other than <code>KEYWORD</code> so that conflicts will be naturally avoided.
For example, it is generally not wise for a <i>program</i> to use a <i>keyword</i><sub>1</sub>
as a <i>property indicator</i>, since if there were ever another <i>program</i>
that did the same thing, each would clobber the other&rsquo;s data.
</p>


<span id="Implementation_002dDefined-Packages"></span><h4 class="subsubsection">11.1.2.4 Implementation-Defined Packages</h4>

<p>Other, <i>implementation-defined</i> <i>packages</i> might be present
in the initial <span class="roman">Common Lisp</span>&nbsp;<!-- /@w -->environment.
</p>
<p>It is recommended, but not required, that the documentation for a
<i>conforming implementation</i> contain a full list of all <i>package</i> names
initially present in that <i>implementation</i> but not specified in this specification.
(See also the <i>function</i> <code>list-all-packages</code>.)
</p>



<hr>
<span id="package"></span><div class="header">
<p>
Next: <a href="#export" accesskey="n" rel="next">export</a>, Previous: <a href="#Package-Concepts" accesskey="p" rel="prev">Package Concepts</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package</h4>
<span id="package-_0028System-Class_0029"></span><h3 class="heading">package (System Class)</h3>
<span id="index-package-2"></span>
<span id="index-package-1"></span>


<span id="Class-Precedence-List_003a-33"></span><h4 class="subsubheading">Class Precedence List:</h4>
<p><code>package</code>,
<code>t</code>
</p>
<span id="Description_003a-237"></span><h4 class="subsubheading">Description:</h4>

<p>A <i>package</i> is a <i>namespace</i> that maps <i>symbol</i> <i>names</i>
to <i>symbols</i>; see <a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>.
</p>
<span id="See-Also_003a-210"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>,
<a href="Printer.html#PrintingOtherObjects">Section 22.1.3.13 (Printing Other Objects)</a>,
<a href="Syntax.html#Symbols-as-Tokens">Section 2.3.4 (Symbols as Tokens)</a>
</p>

<hr>
<span id="export"></span><div class="header">
<p>
Next: <a href="#find_002dsymbol" accesskey="n" rel="next">find-symbol</a>, Previous: <a href="#package" accesskey="p" rel="prev">package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">export</h4>
<span id="export-_0028Function_0029"></span><h3 class="heading">export (Function)</h3>
<span id="index-export-2"></span>
<span id="index-export"></span>


<span id="Syntax_003a-185"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-export-1">Function: <strong>export</strong> <em>symbols <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-174"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbols</var>&mdash;a <i>designator</i> for a <i>list</i> of <i>symbols</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-238"></span><h4 class="subsubheading">Description:</h4>

<p><code>export</code> makes one or more <var>symbols</var> that are <i>accessible</i> 
in <var>package</var> (whether directly or by inheritance) be <i>external symbols</i>
of that <var>package</var>. 
</p>
<p>If any of the <var>symbols</var> is already <i>accessible</i> as 
an <i>external symbol</i> of <var>package</var>,
<code>export</code> has no effect on that <i>symbol</i>.
If the <var>symbol</var> is 
<i>present</i> in <var>package</var> 
as an internal symbol, it is simply changed to external status.  
If it is <i>accessible</i> as an <i>internal symbol</i> via <code>use-package</code>, 
it
is first <i>imported</i> into <var>package</var>,
then <i>exported</i>.
(The <var>symbol</var> is then <i>present</i> in the <var>package</var> 
whether or not <var>package</var> continues to use the <i>package</i> through 
which the <i>symbol</i> was originally inherited.)  
</p>
<p><code>export</code> makes 
each <var>symbol</var>
<i>accessible</i> to all the <i>packages</i> that use <var>package</var>.
All of these <i>packages</i> are checked for name conflicts:
<code>(export <i>s</i> <i>p</i>)</code> does
<code>(find-symbol (symbol-name <i>s</i>) <i>q</i>)</code> for each package <i>q</i>
in <code>(package-used-by-list <i>p</i>)</code>.  Note that in the usual case of
an <code>export</code> during the initial definition of a <i>package</i>, 
the
result of <code>package-used-by-list</code>
is <code>nil</code>&nbsp;<!-- /@w -->and the name-conflict checking
takes negligible time.
When multiple changes are to be made,
for example when <code>export</code> 
is given a <var>list</var> of <var>symbols</var>, it is
permissible for the implementation to process each change separately,
so that aborting from a name
conflict caused by any but the first <var>symbol</var> in the 
<i>list</i> does not unexport the
first <var>symbol</var> in the <var>list</var>. 
However, aborting from a name-conflict error
caused by <code>export</code> 
of one of <var>symbols</var> does not leave that <i>symbol</i> 
<i>accessible</i>
to some <i>packages</i> 
and <i>inaccessible</i> to others; with respect to
each of <var>symbols</var> processed, <code>export</code>
behaves as if it were as an atomic operation.
</p>
<p>A name conflict in <code>export</code> between one of
<var>symbols</var> being exported and a
<i>symbol</i> already <i>present</i> in a <i>package</i> 
that would inherit the
newly-exported <i>symbol</i> 
may be resolved in favor of the exported <i>symbol</i>
by uninterning the other one, or in favor of the already-present
<i>symbol</i> by making it a shadowing symbol.
</p>
<span id="Examples_003a-157"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (make-package 'temp :use nil) <span class="roman">→</span> #&lt;PACKAGE &quot;TEMP&quot;&gt;
 (use-package 'temp) <span class="roman">→</span> T
 (intern &quot;TEMP-SYM&quot; 'temp) <span class="roman">→</span> TEMP::TEMP-SYM, NIL
 (find-symbol &quot;TEMP-SYM&quot;) <span class="roman">→</span> NIL, NIL
 (export (find-symbol &quot;TEMP-SYM&quot; 'temp) 'temp) <span class="roman">→</span> T
 (find-symbol &quot;TEMP-SYM&quot;) <span class="roman">→</span> TEMP-SYM, :INHERITED
</pre></div>


<span id="Side-Effects_003a-24"></span><h4 class="subsubheading">Side Effects:</h4>

<p>The package system is modified.
</p>
<span id="Affected-By_003a-42"></span><h4 class="subsubheading">Affected By:</h4>

<p><i>Accessible</i> <i>symbols</i>.
</p>
<span id="Exceptional-Situations_003a-63"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>If any of the <var>symbols</var> is not <i>accessible</i> at all in <var>package</var>,
an error of <i>type</i> <code>package-error</code> is signaled that is <i>correctable</i> 
by permitting the <i>user</i>
to interactively specify whether that <i>symbol</i> should be <i>imported</i>.
</p>
<span id="See-Also_003a-211"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#import">import</a>,
<a href="#unexport">unexport</a>,
<a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>
</p>

<hr>
<span id="find_002dsymbol"></span><div class="header">
<p>
Next: <a href="#find_002dpackage" accesskey="n" rel="next">find-package</a>, Previous: <a href="#export" accesskey="p" rel="prev">export</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">find-symbol</h4>
<span id="find_002dsymbol-_0028Function_0029"></span><h3 class="heading">find-symbol (Function)</h3>
<span id="index-find_002dsymbol-2"></span>
<span id="index-find_002dsymbol"></span>


<span id="Syntax_003a-186"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-find_002dsymbol-1">Function: <strong>find-symbol</strong> <em>string <tt>&amp;optional</tt> package <span class="roman">→</span> symbol, status</em></dt>
</dl>

<span id="Arguments-and-Values_003a-175"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>string</var>&mdash;a <i>string</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<p><var>symbol</var>&mdash;a <i>symbol</i> accessible in the <var>package</var>, 
or <code>nil</code>.
</p>
<p><var>status</var>&mdash;one of <tt>:inherited</tt>, <tt>:external</tt>, <tt>:internal</tt>, or <code>nil</code>.
</p>
<span id="Description_003a-239"></span><h4 class="subsubheading">Description:</h4>

<p><code>find-symbol</code> locates a <i>symbol</i> whose <i>name</i> is
<var>string</var> in a <i>package</i>.
If a <i>symbol</i> named <var>string</var> is found in <var>package</var>,
directly or by inheritance, the <i>symbol</i> 
found is returned as the first
value; the second value is as follows:
</p>

<dl compact="compact">
<dt><tt>:internal</tt></dt>
<dd>

<p>If the <i>symbol</i> is <i>present</i> in <var>package</var>
as an <i>internal symbol</i>.
</p>
</dd>
<dt><tt>:external</tt></dt>
<dd>

<p>If the <i>symbol</i> is <i>present</i> in <var>package</var>
as an <i>external symbol</i>.
</p>
</dd>
<dt><tt>:inherited</tt></dt>
<dd>

<p>If the <i>symbol</i> is inherited by <var>package</var> 
through <code>use-package</code>,
but is not <i>present</i> in <var>package</var>.
</p></dd>
</dl>


<p>If no such <i>symbol</i> is <i>accessible</i> in <var>package</var>,
both values are <code>nil</code>.
</p>
<span id="Examples_003a-158"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (find-symbol &quot;NEVER-BEFORE-USED&quot;) <span class="roman">→</span> NIL, NIL
 (find-symbol &quot;NEVER-BEFORE-USED&quot;) <span class="roman">→</span> NIL, NIL
 (intern &quot;NEVER-BEFORE-USED&quot;) <span class="roman">→</span> NEVER-BEFORE-USED, NIL
 (intern &quot;NEVER-BEFORE-USED&quot;) <span class="roman">→</span> NEVER-BEFORE-USED, :INTERNAL
 (find-symbol &quot;NEVER-BEFORE-USED&quot;) <span class="roman">→</span> NEVER-BEFORE-USED, :INTERNAL
 (find-symbol &quot;never-before-used&quot;) <span class="roman">→</span> NIL, NIL
 (find-symbol &quot;CAR&quot; 'common-lisp-user) <span class="roman">→</span> CAR, :INHERITED
 (find-symbol &quot;CAR&quot; 'common-lisp) <span class="roman">→</span> CAR, :EXTERNAL
 (find-symbol &quot;NIL&quot; 'common-lisp-user) <span class="roman">→</span> NIL, :INHERITED
 (find-symbol &quot;NIL&quot; 'common-lisp) <span class="roman">→</span> NIL, :EXTERNAL
 (find-symbol &quot;NIL&quot; (prog1 (make-package &quot;JUST-TESTING&quot; :use '())
                           (intern &quot;NIL&quot; &quot;JUST-TESTING&quot;)))
<span class="roman">→</span> JUST-TESTING::NIL, :INTERNAL
 (export 'just-testing::nil 'just-testing)
 (find-symbol &quot;NIL&quot; 'just-testing) <span class="roman">→</span> JUST-TESTING:NIL, :EXTERNAL
 (find-symbol &quot;NIL&quot; &quot;KEYWORD&quot;)
<span class="roman">→</span> NIL, NIL
or<span class="roman">→</span> :NIL, :EXTERNAL
 (find-symbol (symbol-name :nil) &quot;KEYWORD&quot;) <span class="roman">→</span> :NIL, :EXTERNAL
</pre></div>


<span id="Affected-By_003a-43"></span><h4 class="subsubheading">Affected By:</h4>

<p><code>intern</code>,
<code>import</code>,
<code>export</code>,
<code>use-package</code>,
<code>unintern</code>,
<code>unexport</code>,
<code>unuse-package</code>
</p>
<span id="See-Also_003a-212"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#intern">intern</a>, <a href="#find_002dall_002dsymbols">find-all-symbols</a>
</p>
<span id="Notes_003a-128"></span><h4 class="subsubheading">Notes:</h4>

<p><code>find-symbol</code> is operationally equivalent to <code>intern</code>, 
except that it never creates a new <i>symbol</i>.
</p>

<hr>
<span id="find_002dpackage"></span><div class="header">
<p>
Next: <a href="#find_002dall_002dsymbols" accesskey="n" rel="next">find-all-symbols</a>, Previous: <a href="#find_002dsymbol" accesskey="p" rel="prev">find-symbol</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">find-package</h4>
<span id="find_002dpackage-_0028Function_0029"></span><h3 class="heading">find-package (Function)</h3>
<span id="index-find_002dpackage-2"></span>
<span id="index-find_002dpackage"></span>


<span id="Syntax_003a-187"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-find_002dpackage-1">Function: <strong>find-package</strong> <em>name <span class="roman">→</span> package</em></dt>
</dl>

<span id="Arguments-and-Values_003a-176"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>name</var>&mdash;a <i>string designator</i> or a <i>package</i> <i>object</i>.
</p>
<p><var>package</var>&mdash;a <i>package</i> <i>object</i> or <code>nil</code>.
</p>
<span id="Description_003a-240"></span><h4 class="subsubheading">Description:</h4>

<p>If <var>name</var> is a <i>string designator</i>,
<code>find-package</code> locates and returns the
<i>package</i> whose name or nickname is <var>name</var>.
This
search is case sensitive.
If there is no such <i>package</i>,
<code>find-package</code> returns <code>nil</code>.
</p>
<p>If <var>name</var> is a <i>package</i> <i>object</i>,
that <i>package</i> <i>object</i> is returned.
</p>
<span id="Examples_003a-159"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (find-package 'common-lisp) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP&quot;&gt;
 (find-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (find-package 'not-there) <span class="roman">→</span> NIL
</pre></div>


<span id="Affected-By_003a-44"></span><h4 class="subsubheading">Affected By:</h4>

<p>The set of <i>packages</i> created by the <i>implementation</i>.
</p>
<p><code>defpackage</code>,
<code>delete-package</code>,
<code>make-package</code>,
<code>rename-package</code>
</p>
<span id="See-Also_003a-213"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#make_002dpackage">make-package</a>
</p>

<hr>
<span id="find_002dall_002dsymbols"></span><div class="header">
<p>
Next: <a href="#import" accesskey="n" rel="next">import</a>, Previous: <a href="#find_002dpackage" accesskey="p" rel="prev">find-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">find-all-symbols</h4>
<span id="find_002dall_002dsymbols-_0028Function_0029"></span><h3 class="heading">find-all-symbols (Function)</h3>
<span id="index-find_002dall_002dsymbols-2"></span>
<span id="index-find_002dall_002dsymbols"></span>


<span id="Syntax_003a-188"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-find_002dall_002dsymbols-1">Function: <strong>find-all-symbols</strong> <em>string <span class="roman">→</span> symbols</em></dt>
</dl>

<span id="Arguments-and-Values_003a-177"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>string</var>&mdash;a <i>string designator</i>.
</p>
<p><var>symbols</var>&mdash;a <i>list</i> of <i>symbols</i>.
</p>
<span id="Description_003a-241"></span><h4 class="subsubheading">Description:</h4>

<p><code>find-all-symbols</code> searches
<i>name</i> that is the <i>same</i> (under <code>string=</code>) as
<var>string</var>.  A <i>list</i> of all such <i>symbols</i> is returned.
Whether or how the <i>list</i> is ordered is
<i>implementation-dependent</i>.
</p>
<span id="Examples_003a-160"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (find-all-symbols 'car)
<span class="roman">→</span> (CAR)
or<span class="roman">→</span> (CAR VEHICLES:CAR)
or<span class="roman">→</span> (VEHICLES:CAR CAR)
 (intern &quot;CAR&quot; (make-package 'temp :use nil)) <span class="roman">→</span> TEMP::CAR, NIL
 (find-all-symbols 'car)
<span class="roman">→</span> (TEMP::CAR CAR)
or<span class="roman">→</span> (CAR TEMP::CAR)
or<span class="roman">→</span> (TEMP::CAR CAR VEHICLES:CAR)
or<span class="roman">→</span> (CAR TEMP::CAR VEHICLES:CAR)
</pre></div>


<span id="See-Also_003a-214"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#find_002dsymbol">find-symbol</a>
</p>

<hr>
<span id="import"></span><div class="header">
<p>
Next: <a href="#list_002dall_002dpackages" accesskey="n" rel="next">list-all-packages</a>, Previous: <a href="#find_002dall_002dsymbols" accesskey="p" rel="prev">find-all-symbols</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">import</h4>
<span id="import-_0028Function_0029"></span><h3 class="heading">import (Function)</h3>
<span id="index-import-2"></span>
<span id="index-import"></span>


<span id="Syntax_003a-189"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-import-1">Function: <strong>import</strong> <em>symbols <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-178"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbols</var>&mdash;a <i>designator</i> for a <i>list</i> of <i>symbols</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-242"></span><h4 class="subsubheading">Description:</h4>

<p><code>import</code> adds <var>symbol</var> or
<var>symbols</var> to the internals of <var>package</var>, checking for name
conflicts with existing <i>symbols</i> either <i>present</i> in <var>package</var>
or <i>accessible</i> to it.  Once the <var>symbols</var> have been
<i>imported</i>, they may be referenced in the <i>importing</i>
<var>package</var> without the use of a <i>package prefix</i> when using the <i>Lisp reader</i>.
</p>
<p>A name conflict in <code>import</code> between the
<var>symbol</var> being imported and a symbol inherited from some other <i>package</i> can 
be resolved in favor of the
<var>symbol</var> being <i>imported</i> 
by making it a shadowing symbol, or in favor
of the <i>symbol</i> already <i>accessible</i> by 
not doing the <code>import</code>.  A
name conflict in <code>import</code> with a <i>symbol</i> 
already <i>present</i> in the
<var>package</var> 
may be resolved by uninterning that <i>symbol</i>, or by not
doing the <code>import</code>.
</p>
<p>The imported <i>symbol</i> is
not automatically exported from the <i>current package</i>, but if it is
already <i>present</i> and external, then the fact that it
is external is not changed.  
If any <i>symbol</i> to be <i>imported</i> has no home
package (<i>i.e.</i>, <code>(symbol-package <var>symbol</var>) <span class="roman">→</span>&nbsp;<!-- /@w -->nil</code>), 
<code>import</code> sets the <i>home package</i>
of the <var>symbol</var> to <var>package</var>.
</p>
<p>If the <var>symbol</var> is already <i>present</i> in the importing <var>package</var>,
<code>import</code> has no effect.  
</p>
<span id="Examples_003a-161"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (import 'common-lisp::car (make-package 'temp :use nil)) <span class="roman">→</span> T
 (find-symbol &quot;CAR&quot; 'temp) <span class="roman">→</span> CAR, :INTERNAL
 (find-symbol &quot;CDR&quot; 'temp) <span class="roman">→</span> NIL, NIL 
</pre></div>


<p>The form <code>(import 'editor:buffer)</code> takes the external symbol named 
<code>buffer</code> in the <code>EDITOR</code> <i>package</i> (this symbol was located when the form
was read by the <i>Lisp reader</i>) and adds it to the <i>current package</i>
as an <i>internal symbol</i>. The symbol <code>buffer</code> is then <i>present</i> in
the <i>current package</i>.
</p>
<span id="Side-Effects_003a-25"></span><h4 class="subsubheading">Side Effects:</h4>

<p>The package system is modified.
</p>
<span id="Affected-By_003a-45"></span><h4 class="subsubheading">Affected By:</h4>

<p>Current state of the package system.
</p>
<span id="Exceptional-Situations_003a-64"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p><code>import</code> signals a <i>correctable</i> error of <i>type</i> <code>package-error</code>
if any of the <var>symbols</var> to be <i>imported</i> has the <i>same</i> <i>name</i>
(under <code>string=</code>) as some distinct <i>symbol</i> (under <code>eql</code>)
already <i>accessible</i> in the <var>package</var>, even if the conflict is
with a <i>shadowing symbol</i> of the <var>package</var>.
</p>
<span id="See-Also_003a-215"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#shadow">shadow</a>, <a href="#export">export</a>
</p>

<hr>
<span id="list_002dall_002dpackages"></span><div class="header">
<p>
Next: <a href="#rename_002dpackage" accesskey="n" rel="next">rename-package</a>, Previous: <a href="#import" accesskey="p" rel="prev">import</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">list-all-packages</h4>
<span id="list_002dall_002dpackages-_0028Function_0029"></span><h3 class="heading">list-all-packages (Function)</h3>
<span id="index-list_002dall_002dpackages-2"></span>
<span id="index-list_002dall_002dpackages"></span>


<span id="Syntax_003a-190"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-list_002dall_002dpackages-1">Function: <strong>list-all-packages</strong> <em>&lt;no <i>arguments</i>&gt; <span class="roman">→</span> packages</em></dt>
</dl>

<span id="Arguments-and-Values_003a-179"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>packages</var>&mdash;a <i>list</i> of <i>package</i> <i>objects</i>.
</p>
<span id="Description_003a-243"></span><h4 class="subsubheading">Description:</h4>

<p><code>list-all-packages</code> returns a 
<i>fresh</i>
<i>list</i> of 
all <i>registered packages</i>.
</p>
<span id="Examples_003a-162"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (let ((before (list-all-packages)))
    (make-package 'temp)
    (set-difference (list-all-packages) before)) <span class="roman">→</span> (#&lt;PACKAGE &quot;TEMP&quot;&gt;)
</pre></div>


<span id="Affected-By_003a-46"></span><h4 class="subsubheading">Affected By:</h4>

<p><code>defpackage</code>,
<code>delete-package</code>,
<code>make-package</code>
</p>

<hr>
<span id="rename_002dpackage"></span><div class="header">
<p>
Next: <a href="#shadow" accesskey="n" rel="next">shadow</a>, Previous: <a href="#list_002dall_002dpackages" accesskey="p" rel="prev">list-all-packages</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">rename-package</h4>
<span id="rename_002dpackage-_0028Function_0029"></span><h3 class="heading">rename-package (Function)</h3>
<span id="index-rename_002dpackage-2"></span>
<span id="index-rename_002dpackage"></span>


<span id="Syntax_003a-191"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-rename_002dpackage-1">Function: <strong>rename-package</strong> <em>package new-name <tt>&amp;optional</tt> new-nicknames <span class="roman">→</span> package-object</em></dt>
</dl>

<span id="Arguments-and-Values_003a-180"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>new-name</var>&mdash;a <i>package designator</i>.
</p>
<p><var>new-nicknames</var>&mdash;a <i>list</i> of <i>string designators</i>.
The default is the <i>empty list</i>.
</p>
<p><var>package-object</var>&mdash;the renamed <var>package</var> <i>object</i>.
</p>
<span id="Description_003a-244"></span><h4 class="subsubheading">Description:</h4>

<p>Replaces the name and nicknames of <var>package</var>.
The old name and all of the old nicknames of <var>package</var> are eliminated
and are replaced by <var>new-name</var> and <var>new-nicknames</var>.
</p>
<p>The consequences are undefined if <var>new-name</var> or any <var>new-nickname</var>
conflicts with any existing package names.
</p>
<span id="Examples_003a-163"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (make-package 'temporary :nicknames '(&quot;TEMP&quot;)) <span class="roman">→</span> #&lt;PACKAGE &quot;TEMPORARY&quot;&gt;
 (rename-package 'temp 'ephemeral) <span class="roman">→</span> #&lt;PACKAGE &quot;EPHEMERAL&quot;&gt;
 (package-nicknames (find-package 'ephemeral)) <span class="roman">→</span> ()
 (find-package 'temporary) <span class="roman">→</span> NIL
 (rename-package 'ephemeral 'temporary '(temp fleeting))
<span class="roman">→</span> #&lt;PACKAGE &quot;TEMPORARY&quot;&gt;
 (package-nicknames (find-package 'temp)) <span class="roman">→</span> (&quot;TEMP&quot; &quot;FLEETING&quot;)
</pre></div>


<span id="See-Also_003a-216"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#make_002dpackage">make-package</a>
</p>

<hr>
<span id="shadow"></span><div class="header">
<p>
Next: <a href="#shadowing_002dimport" accesskey="n" rel="next">shadowing-import</a>, Previous: <a href="#rename_002dpackage" accesskey="p" rel="prev">rename-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">shadow</h4>
<span id="shadow-_0028Function_0029"></span><h3 class="heading">shadow (Function)</h3>
<span id="index-shadow-4"></span>
<span id="index-shadow-2"></span>


<span id="Syntax_003a-192"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-shadow-3">Function: <strong>shadow</strong> <em>symbol-names <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-181"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbol-names</var>&mdash;a <i>designator</i> for 
a <i>list</i> of <i>string designators</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-245"></span><h4 class="subsubheading">Description:</h4>

<p><code>shadow</code> assures that <i>symbols</i> with names given 
by <var>symbol-names</var> are <i>present</i> 
in
the <var>package</var>.
</p>
<p>Specifically, <var>package</var> is searched for <i>symbols</i> 
with the <i>names</i> supplied by <var>symbol-names</var>.
For each such <i>name</i>, if a corresponding <i>symbol</i> 
is not <i>present</i> in <var>package</var> (directly, not by inheritance), 
then a corresponding <i>symbol</i> is created with that <i>name</i>,
and inserted into <var>package</var> as an <i>internal symbol</i>.
The corresponding <i>symbol</i>, whether pre-existing or newly created,
is then added, if not already present, to the <i>shadowing symbols list</i>
of <var>package</var>.
</p>
<span id="Examples_003a-164"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-shadowing-symbols (make-package 'temp)) <span class="roman">→</span> NIL
 (find-symbol 'car 'temp) <span class="roman">→</span> CAR, :INHERITED
 (shadow 'car 'temp) <span class="roman">→</span> T
 (find-symbol 'car 'temp) <span class="roman">→</span> TEMP::CAR, :INTERNAL
 (package-shadowing-symbols 'temp) <span class="roman">→</span> (TEMP::CAR)
</pre></div>


<div class="lisp">
<pre class="lisp"> (make-package 'test-1) <span class="roman">→</span> #&lt;PACKAGE &quot;TEST-1&quot;&gt;
 (intern &quot;TEST&quot; (find-package 'test-1)) <span class="roman">→</span> TEST-1::TEST, NIL
 (shadow 'test-1::test (find-package 'test-1)) <span class="roman">→</span> T
 (shadow 'TEST (find-package 'test-1)) <span class="roman">→</span> T
 (assert (not (null (member 'test-1::test (package-shadowing-symbols
                                            (find-package 'test-1))))))
 
 (make-package 'test-2) <span class="roman">→</span> #&lt;PACKAGE &quot;TEST-2&quot;&gt;
 (intern &quot;TEST&quot; (find-package 'test-2)) <span class="roman">→</span> TEST-2::TEST, NIL
 (export 'test-2::test (find-package 'test-2)) <span class="roman">→</span> T
 (use-package 'test-2 (find-package 'test-1))    ;should not error
 
</pre></div>


<span id="Side-Effects_003a-26"></span><h4 class="subsubheading">Side Effects:</h4>

<p><code>shadow</code> changes the state of the package system in such a 
way that the package consistency rules do not hold across the change.
</p>
<span id="Affected-By_003a-47"></span><h4 class="subsubheading">Affected By:</h4>

<p>Current state of the package system.
</p>
<span id="See-Also_003a-217"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#package_002dshadowing_002dsymbols">package-shadowing-symbols</a>,
<a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>
</p>
<span id="Notes_003a-129"></span><h4 class="subsubheading">Notes:</h4>

<p>If a <i>symbol</i> with a name in <var>symbol-names</var> already exists
in <var>package</var>, but by inheritance, the inherited symbol becomes
<i>shadowed</i><sub>3</sub>
</p>

<hr>
<span id="shadowing_002dimport"></span><div class="header">
<p>
Next: <a href="#delete_002dpackage" accesskey="n" rel="next">delete-package</a>, Previous: <a href="#shadow" accesskey="p" rel="prev">shadow</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">shadowing-import</h4>
<span id="shadowing_002dimport-_0028Function_0029"></span><h3 class="heading">shadowing-import (Function)</h3>
<span id="index-shadowing_002dimport-2"></span>
<span id="index-shadowing_002dimport"></span>


<span id="Syntax_003a-193"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-shadowing_002dimport-1">Function: <strong>shadowing-import</strong> <em>symbols <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-182"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbols</var>&mdash;a <i>designator</i> for a <i>list</i> of <i>symbols</i>.
</p>
<p><var>package</var> &mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-246"></span><h4 class="subsubheading">Description:</h4>

<p><code>shadowing-import</code> is like <code>import</code>, 
but it does not signal an error even if the importation of a <i>symbol</i> 
would shadow some <i>symbol</i> already <i>accessible</i> in <var>package</var>.  
</p>
<p><code>shadowing-import</code> inserts each of <var>symbols</var> 
into <var>package</var> as an internal symbol, regardless
of whether another <i>symbol</i> of the same name is shadowed by this
action.
If a different <i>symbol</i> of the same name is already <i>present</i>
in <var>package</var>,
that <i>symbol</i> is first <i>uninterned</i> from <var>package</var>.
The new <i>symbol</i> is added to <var>package</var>&rsquo;s shadowing-symbols list.  
</p>
<p><code>shadowing-import</code> does name-conflict
checking to the extent that it checks whether a distinct existing
<i>symbol</i> with the same name is <i>accessible</i>; if so, it is shadowed by
the new <i>symbol</i>, which implies that it must be uninterned
if it was 
<i>present</i> in <var>package</var>.
</p>
<span id="Examples_003a-165"></span><h4 class="subsubheading">Examples:</h4>
<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (setq sym (intern &quot;CONFLICT&quot;)) <span class="roman">→</span> CONFLICT
 (intern &quot;CONFLICT&quot; (make-package 'temp)) <span class="roman">→</span> TEMP::CONFLICT, NIL
 (package-shadowing-symbols 'temp) <span class="roman">→</span> NIL
 (shadowing-import sym 'temp) <span class="roman">→</span> T 
 (package-shadowing-symbols 'temp) <span class="roman">→</span> (CONFLICT)
</pre></div>


<span id="Side-Effects_003a-27"></span><h4 class="subsubheading">Side Effects:</h4>

<p><code>shadowing-import</code> 
changes the state of the package system in such a way that
the consistency rules do not hold across the change.
</p>
<p><var>package</var>&rsquo;s shadowing-symbols list is modified.
</p>
<span id="Affected-By_003a-48"></span><h4 class="subsubheading">Affected By:</h4>

<p>Current state of the package system.
</p>
<span id="See-Also_003a-218"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#import">import</a>, <a href="#unintern">unintern</a>, <a href="#package_002dshadowing_002dsymbols">package-shadowing-symbols</a>
</p>

<hr>
<span id="delete_002dpackage"></span><div class="header">
<p>
Next: <a href="#make_002dpackage" accesskey="n" rel="next">make-package</a>, Previous: <a href="#shadowing_002dimport" accesskey="p" rel="prev">shadowing-import</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">delete-package</h4>
<span id="delete_002dpackage-_0028Function_0029"></span><h3 class="heading">delete-package (Function)</h3>
<span id="index-delete_002dpackage-2"></span>
<span id="index-delete_002dpackage"></span>



<span id="Syntax_003a-194"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-delete_002dpackage-1">Function: <strong>delete-package</strong> <em>package <span class="roman">→</span> generalized-boolean</em></dt>
</dl>

<span id="Arguments-and-Values_003a-183"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>generalized-boolean</var>&mdash;a <i>generalized boolean</i>.
</p>
<span id="Description_003a-247"></span><h4 class="subsubheading">Description:</h4>

<p><code>delete-package</code> deletes <var>package</var> from all package system
data structures. 
If the operation is successful, <code>delete-package</code> returns
true, otherwise <code>nil</code>.
The effect of <code>delete-package</code> is that the name and nicknames
of <var>package</var> cease to be recognized package names.
The package <i>object</i> is still a <i>package</i> 
(<i>i.e.</i>, <code>packagep</code> is <i>true</i> of it)
but <code>package-name</code> returns <code>nil</code>.
The consequences of deleting the <code>COMMON-LISP</code> <i>package</i> or the <code>KEYWORD</code> <i>package</i> are undefined.
The consequences of invoking any other package operation on <var>package</var>
once it has been deleted are unspecified.
In particular, the consequences of invoking <code>find-symbol</code>,
<code>intern</code> and other functions that look for a symbol name in
a <i>package</i> are unspecified if they are called with <code>*package*</code>
bound to the deleted <var>package</var> or with the deleted <var>package</var> 
as an argument.
</p>
<p>If <var>package</var> is a <i>package</i> <i>object</i> that has already
been deleted, <code>delete-package</code> immediately returns <code>nil</code>.
</p>
<p>After this operation completes, the 
<i>home package</i>
of any <i>symbol</i> whose <i>home package</i> 
had previously been
<var>package</var> 
is
<i>implementation-dependent</i>.
Except for this, <i>symbols</i> <i>accessible</i>
in <var>package</var> are not modified in any other way;
<i>symbols</i> whose <i>home package</i> is not <var>package</var> remain unchanged.
</p>
<span id="Examples_003a-166"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (setq *foo-package* (make-package &quot;FOO&quot; :use nil))
 (setq *foo-symbol*  (intern &quot;FOO&quot; *foo-package*))
 (export *foo-symbol* *foo-package*)

 (setq *bar-package* (make-package &quot;BAR&quot; :use '(&quot;FOO&quot;)))
 (setq *bar-symbol*  (intern &quot;BAR&quot; *bar-package*))
 (export *foo-symbol* *bar-package*)
 (export *bar-symbol* *bar-package*)

 (setq *baz-package* (make-package &quot;BAZ&quot; :use '(&quot;BAR&quot;)))

 (symbol-package *foo-symbol*) <span class="roman">→</span> #&lt;PACKAGE &quot;FOO&quot;&gt;
 (symbol-package *bar-symbol*) <span class="roman">→</span> #&lt;PACKAGE &quot;BAR&quot;&gt;

 (prin1-to-string *foo-symbol*) <span class="roman">→</span> &quot;FOO:FOO&quot;
 (prin1-to-string *bar-symbol*) <span class="roman">→</span> &quot;BAR:BAR&quot;

 (find-symbol &quot;FOO&quot; *bar-package*) <span class="roman">→</span> FOO:FOO, :EXTERNAL

 (find-symbol &quot;FOO&quot; *baz-package*) <span class="roman">→</span> FOO:FOO, :INHERITED
 (find-symbol &quot;BAR&quot; *baz-package*) <span class="roman">→</span> BAR:BAR, :INHERITED

 (packagep *foo-package*) <span class="roman">→</span> <i>true</i>
 (packagep *bar-package*) <span class="roman">→</span> <i>true</i>
 (packagep *baz-package*) <span class="roman">→</span> <i>true</i>

 (package-name *foo-package*) <span class="roman">→</span> &quot;FOO&quot;
 (package-name *bar-package*) <span class="roman">→</span> &quot;BAR&quot;
 (package-name *baz-package*) <span class="roman">→</span> &quot;BAZ&quot;

 (package-use-list *foo-package*) <span class="roman">→</span> ()
 (package-use-list *bar-package*) <span class="roman">→</span> (#&lt;PACKAGE &quot;FOO&quot;&gt;)
 (package-use-list *baz-package*) <span class="roman">→</span> (#&lt;PACKAGE &quot;BAR&quot;&gt;)

 (package-used-by-list *foo-package*) <span class="roman">→</span> (#&lt;PACKAGE &quot;BAR&quot;&gt;)
 (package-used-by-list *bar-package*) <span class="roman">→</span> (#&lt;PACKAGE &quot;BAZ&quot;&gt;)
 (package-used-by-list *baz-package*) <span class="roman">→</span> ()

 (delete-package *bar-package*)
▷ Error: Package BAZ uses package BAR.
▷ If continued, BAZ will be made to unuse-package BAR,
▷ and then BAR will be deleted.
▷ Type :CONTINUE to continue.
▷ Debug&gt; <kbd>:CONTINUE</kbd>
<span class="roman">→</span> T

 (symbol-package *foo-symbol*) <span class="roman">→</span> #&lt;PACKAGE &quot;FOO&quot;&gt;
 (symbol-package *bar-symbol*) is unspecified

 (prin1-to-string *foo-symbol*) <span class="roman">→</span> &quot;FOO:FOO&quot;
 (prin1-to-string *bar-symbol*) is unspecified

 (find-symbol &quot;FOO&quot; *bar-package*) is unspecified

 (find-symbol &quot;FOO&quot; *baz-package*) <span class="roman">→</span> NIL, NIL
 (find-symbol &quot;BAR&quot; *baz-package*) <span class="roman">→</span> NIL, NIL

 (packagep *foo-package*) <span class="roman">→</span> T
 (packagep *bar-package*) <span class="roman">→</span> T
 (packagep *baz-package*) <span class="roman">→</span> T

 (package-name *foo-package*) <span class="roman">→</span> &quot;FOO&quot;
 (package-name *bar-package*) <span class="roman">→</span> NIL
 (package-name *baz-package*) <span class="roman">→</span> &quot;BAZ&quot;

 (package-use-list *foo-package*) <span class="roman">→</span> ()
 (package-use-list *bar-package*) is unspecified
 (package-use-list *baz-package*) <span class="roman">→</span> ()

 (package-used-by-list *foo-package*) <span class="roman">→</span> ()
 (package-used-by-list *bar-package*) is unspecified
 (package-used-by-list *baz-package*) <span class="roman">→</span> ()
</pre></div>


<span id="Exceptional-Situations_003a-65"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>If the <var>package</var> <i>designator</i> is a <i>name</i> that does not 
currently name a <i>package</i>, 
a <i>correctable</i> error of <i>type</i> <code>package-error</code> is signaled.
If correction is attempted, no deletion action is attempted; 
instead, <code>delete-package</code> immediately returns <code>nil</code>.
</p>
<p>If <var>package</var> is used by other <i>packages</i>, 
a <i>correctable</i> error of <i>type</i> <code>package-error</code> is signaled.
If correction is attempted,
<code>unuse-package</code> is effectively called to remove any dependencies, 
causing <var>package</var>&rsquo;s <i>external symbols</i> to cease being <i>accessible</i> to those 
<i>packages</i> that use <var>package</var>. 
<code>delete-package</code> then deletes <var>package</var> just as it would have had 
there been no <i>packages</i> that used it.
</p>
<span id="See-Also_003a-219"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#unuse_002dpackage">unuse-package</a>
</p>


<hr>
<span id="make_002dpackage"></span><div class="header">
<p>
Next: <a href="#with_002dpackage_002diterator" accesskey="n" rel="next">with-package-iterator</a>, Previous: <a href="#delete_002dpackage" accesskey="p" rel="prev">delete-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">make-package</h4>
<span id="make_002dpackage-_0028Function_0029"></span><h3 class="heading">make-package (Function)</h3>
<span id="index-make_002dpackage-2"></span>
<span id="index-make_002dpackage"></span>


<span id="Syntax_003a-195"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-make_002dpackage-1">Function: <strong>make-package</strong> <em>package-name <tt>&amp;key</tt> nicknames use <span class="roman">→</span> package</em></dt>
</dl>

<span id="Arguments-and-Values_003a-184"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package-name</var>&mdash;a <i>string designator</i>.
</p>
<p><var>nicknames</var>&mdash;a <i>list</i> of <i>string designators</i>.
The default is the <i>empty list</i>.
</p>
<p><var>use</var>&mdash;
a <i>list</i> of <i>package designators</i>.
The default is <i>implementation-defined</i>.
</p>
<p><var>package</var>&mdash;a <i>package</i>.
</p>
<span id="Description_003a-248"></span><h4 class="subsubheading">Description:</h4>

<p>Creates a new <i>package</i> with the name <var>package-name</var>.  
</p>
<p><var>Nicknames</var> are additional <i>names</i> which may be used
to refer to the new <i>package</i>.
</p>
<p><var>use</var> specifies zero or more <i>packages</i> 
the <i>external symbols</i> of which are to be inherited by
the new <i>package</i>.  See the <i>function</i> <a href="#use_002dpackage">use-package</a>.
</p>
<span id="Examples_003a-167"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (make-package 'temporary :nicknames '(&quot;TEMP&quot; &quot;temp&quot;)) <span class="roman">→</span> #&lt;PACKAGE &quot;TEMPORARY&quot;&gt;
 (make-package &quot;OWNER&quot; :use '(&quot;temp&quot;)) <span class="roman">→</span> #&lt;PACKAGE &quot;OWNER&quot;&gt;
 (package-used-by-list 'temp) <span class="roman">→</span> (#&lt;PACKAGE &quot;OWNER&quot;&gt;)
 (package-use-list 'owner) <span class="roman">→</span> (#&lt;PACKAGE &quot;TEMPORARY&quot;&gt;)
</pre></div>


<span id="Affected-By_003a-49"></span><h4 class="subsubheading">Affected By:</h4>

<p>The existence of other <i>packages</i> in the system.
</p>
<span id="Exceptional-Situations_003a-66"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>The consequences are unspecified if <i>packages</i> denoted by <var>use</var>
do not exist.
</p>
<p>A <i>correctable</i> error is signaled if the <var>package-name</var> 
or any of the <var>nicknames</var> is already 
the <i>name</i> or <i>nickname</i> of an existing <i>package</i>.
</p>
<span id="See-Also_003a-220"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#defpackage">defpackage</a>,
<a href="#use_002dpackage">use-package</a>
</p>
<span id="Notes_003a-130"></span><h4 class="subsubheading">Notes:</h4>

<p>In situations where the <i>packages</i> to be used contain symbols which would conflict,
it is necessary to first create the package with <code>:use '()</code>,
then to use <code>shadow</code> or <code>shadowing-import</code> to address the conflicts,
and then after that to use <code>use-package</code> once the conflicts have been addressed.
</p>
<p>When packages are being created as part of the static definition of a program
rather than dynamically by the program, it is generally considered more stylistically
appropriate to use <code>defpackage</code> rather than <code>make-package</code>.
</p>

<hr>
<span id="with_002dpackage_002diterator"></span><div class="header">
<p>
Next: <a href="#unexport" accesskey="n" rel="next">unexport</a>, Previous: <a href="#make_002dpackage" accesskey="p" rel="prev">make-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">with-package-iterator</h4>
<span id="with_002dpackage_002diterator-_0028Macro_0029"></span><h3 class="heading">with-package-iterator (Macro)</h3>
<span id="index-with_002dpackage_002diterator-2"></span>
<span id="index-with_002dpackage_002diterator"></span>




<span id="Syntax_003a-196"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-with_002dpackage_002diterator-1">Macro: <strong>with-package-iterator</strong> <em><tt>(</tt>name package-list-form <tt>&amp;rest</tt> symbol-types<tt>)</tt> <tt>{</tt>declaration<tt>}</tt>* <tt>{</tt>form<tt>}</tt>* <span class="roman">→</span> <tt>{</tt>result<tt>}</tt>*</em></dt>
</dl>

<span id="Arguments-and-Values_003a-185"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>name</var>&mdash;a <i>symbol</i>.
</p>
<p><var>package-list-form</var>&mdash;a <i>form</i>; evaluated once to produce a <var>package-list</var>.
</p>
<p><var>package-list</var>&mdash;a <i>designator</i> for a list of <i>package designators</i>.
</p>
<p><var>symbol-type</var>&mdash;one of the <i>symbols</i> 
<tt>:internal</tt>, <tt>:external</tt>, or <tt>:inherited</tt>.
</p>
<p><var>declaration</var>&mdash;a <tt>declare</tt> <i>expression</i>; not evaluated.
</p>
<p><var>forms</var>&mdash;an <i>implicit progn</i>.
</p>
<p><var>results</var>&mdash;the <i>values</i> of the <var>forms</var>.
</p>
<span id="Description_003a-249"></span><h4 class="subsubheading">Description:</h4>

<p>Within the lexical scope of the body <var>forms</var>,
the <var>name</var> is defined via <code>macrolet</code> 
such that successive invocations of <code>(<var>name</var>)</code>
will return the <i>symbols</i>, one by one, 
from the <i>packages</i> in <var>package-list</var>. 
</p>
<p>It is unspecified whether <i>symbols</i> inherited from
multiple <i>packages</i> are returned more than once.  
The order of <i>symbols</i> returned does not necessarily reflect the order
of <i>packages</i> in <var>package-list</var>.  When <var>package-list</var> has 
more than one element, it is unspecified whether duplicate <i>symbols</i> are
returned once or more than once.  
</p>
<p><var>Symbol-types</var> controls which <i>symbols</i> that are <i>accessible</i>
in a <i>package</i> are returned as follows:
</p>

<dl compact="compact">
<dt><tt>:internal</tt></dt>
<dd>

<p>The <i>symbols</i> that are <i>present</i> in the <i>package</i>,
but that are not <i>exported</i>.
</p>
</dd>
<dt><tt>:external</tt></dt>
<dd>

<p>The <i>symbols</i> that are <i>present</i> in the <i>package</i>
and are <i>exported</i>.
</p>
</dd>
<dt><tt>:inherited</tt></dt>
<dd>

<p>The <i>symbols</i> that are <i>exported</i> by used <i>packages</i>
and that are not <i>shadowed</i>.
</p></dd>
</dl>


<p>When more than one argument is supplied for <var>symbol-types</var>, 
a <i>symbol</i> is returned if its <i>accessibility</i> matches 
any one of the <var>symbol-types</var> supplied.  
Implementations may extend this syntax by recognizing additional 
symbol accessibility types.
</p>
<p>An invocation of <code>(<var>name</var>)</code> returns four values as follows:
</p>

<ol>
<li> A flag that indicates whether a <i>symbol</i> is returned
(true means that a <i>symbol</i> is returned).
</li><li> A <i>symbol</i> that is <i>accessible</i> in one the
indicated <i>packages</i>.
</li><li> The accessibility type for that <i>symbol</i>; 
<i>i.e.</i>, one of the symbols <tt>:internal</tt>, <tt>:external</tt>, or <tt>:inherited</tt>.
</li><li> The <i>package</i> from which the <i>symbol</i> was obtained.
The <i>package</i> is one of the <i>packages</i> present 
or named in <var>package-list</var>.
</li></ol>


<p>After all <i>symbols</i> have been returned by successive invocations of
<code>(<var>name</var>)</code>, then only one value is returned, namely <code>nil</code>.
</p>
<p>The meaning of the second, third, and fourth <i>values</i> is that the returned 
<i>symbol</i> is <i>accessible</i> in the returned <i>package</i>
in the way indicated by the second return value as follows:
</p>

<dl compact="compact">
<dt><tt>:internal</tt></dt>
<dd>

<p>Means <i>present</i> and not <i>exported</i>.
</p>
</dd>
<dt><tt>:external</tt></dt>
<dd>

<p>Means <i>present</i> and <i>exported</i>.
</p>
</dd>
<dt><tt>:inherited</tt></dt>
<dd>

<p>Means not <i>present</i> (thus not <i>shadowed</i>) but inherited
from some used <i>package</i>.
</p></dd>
</dl>


<p>It is unspecified what happens if any of the implicit interior state 
of an iteration is returned outside the dynamic extent of the 
<code>with-package-iterator</code>
form such as by returning some <i>closure</i> over the invocation <i>form</i>.
</p>
<p>Any number of invocations of <code>with-package-iterator</code> 
can be nested, and the body of the innermost one can invoke all of the
locally <i>established</i> <i>macros</i>, provided all those <i>macros</i>
have distinct names.
</p>
<span id="Examples_003a-168"></span><h4 class="subsubheading">Examples:</h4>

<p>The following function should return <code>t</code>&nbsp;<!-- /@w -->on any <i>package</i>, and signal
an error if the usage of <code>with-package-iterator</code> does not agree
with the corresponding usage of <code>do-symbols</code>.
</p>
<div class="lisp">
<pre class="lisp"> (defun test-package-iterator (package)
   (unless (packagep package)
     (setq package (find-package package)))
   (let ((all-entries '())
         (generated-entries '()))
     (do-symbols (x package) 
       (multiple-value-bind (symbol accessibility) 
           (find-symbol (symbol-name x) package)
         (push (list symbol accessibility) all-entries)))
     (with-package-iterator (generator-fn package 
                             :internal :external :inherited)
       (loop     
         (multiple-value-bind (more? symbol accessibility pkg)
             (generator-fn)
           (unless more? (return))
           (let ((l (multiple-value-list (find-symbol (symbol-name symbol) 
                                                      package))))
             (unless (equal l (list symbol accessibility))
               (error &quot;Symbol ~S not found as ~S in package ~A [~S]&quot;
                      symbol accessibility (package-name package) l))
             (push l generated-entries)))))
     (unless (and (subsetp all-entries generated-entries :test #'equal)
                  (subsetp generated-entries all-entries :test #'equal))
      (error &quot;Generated entries and Do-Symbols entries don't correspond&quot;))
     t))
</pre></div>


<p>The following function prints out every <i>present</i> <i>symbol</i> 
(possibly more than once):
</p>
<div class="lisp">
<pre class="lisp"> (defun print-all-symbols () 
   (with-package-iterator (next-symbol (list-all-packages)
                           :internal :external)
     (loop
       (multiple-value-bind (more? symbol) (next-symbol)
         (if more? 
            (print symbol)
            (return))))))
</pre></div>


<span id="Exceptional-Situations_003a-67"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p><code>with-package-iterator</code> signals an error of <i>type</i> <code>program-error</code> if 
no <var>symbol-types</var> are supplied or if a <var>symbol-type</var> is not
recognized  by the implementation is supplied.  
</p>
<p>The consequences are undefined if the local function named <var>name</var>
<i>established</i> by <code>with-package-iterator</code> is called after it 
has returned <i>false</i> as its <i>primary value</i>.
</p>
<span id="See-Also_003a-221"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Evaluation-and-Compilation.html#Traversal-Rules-and-Side-Effects">Section 3.6 (Traversal Rules and Side Effects)</a>
</p>


<hr>
<span id="unexport"></span><div class="header">
<p>
Next: <a href="#unintern" accesskey="n" rel="next">unintern</a>, Previous: <a href="#with_002dpackage_002diterator" accesskey="p" rel="prev">with-package-iterator</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">unexport</h4>
<span id="unexport-_0028Function_0029"></span><h3 class="heading">unexport (Function)</h3>
<span id="index-unexport-2"></span>
<span id="index-unexport"></span>


<span id="Syntax_003a-197"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-unexport-1">Function: <strong>unexport</strong> <em>symbols <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-186"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbols</var>&mdash;a <i>designator</i> for a <i>list</i> of <i>symbols</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-250"></span><h4 class="subsubheading">Description:</h4>

<p><code>unexport</code> reverts external <var>symbols</var> in <var>package</var> to
internal status; it undoes the effect of <code>export</code>.
</p>
<p><code>unexport</code> works only on <i>symbols</i> 
<i>present</i>
in <var>package</var>, switching them back to internal status.
If <code>unexport</code> is given a <i>symbol</i> that is 
already <i>accessible</i> as an <i>internal symbol</i> in <var>package</var>,
it does nothing.
</p>
<span id="Examples_003a-169"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (export (intern &quot;CONTRABAND&quot; (make-package 'temp)) 'temp) <span class="roman">→</span> T
 (find-symbol &quot;CONTRABAND&quot;) <span class="roman">→</span> NIL, NIL 
 (use-package 'temp) <span class="roman">→</span> T 
 (find-symbol &quot;CONTRABAND&quot;) <span class="roman">→</span> CONTRABAND, :INHERITED
 (unexport 'contraband 'temp) <span class="roman">→</span> T
 (find-symbol &quot;CONTRABAND&quot;) <span class="roman">→</span> NIL, NIL
</pre></div>


<span id="Side-Effects_003a-28"></span><h4 class="subsubheading">Side Effects:</h4>

<p>Package system is modified.
</p>
<span id="Affected-By_003a-50"></span><h4 class="subsubheading">Affected By:</h4>

<p>Current state of the package system.
</p>
<span id="Exceptional-Situations_003a-68"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>If <code>unexport</code> is given a <i>symbol</i>
not <i>accessible</i> in <var>package</var> at all, 
an error of <i>type</i> <code>package-error</code> is signaled.
</p>
<p>The consequences are undefined if <var>package</var> is the <code>KEYWORD</code> <i>package</i>
or the <code>COMMON-LISP</code> <i>package</i>.
</p>
<span id="See-Also_003a-222"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#export">export</a>, <a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>
</p>

<hr>
<span id="unintern"></span><div class="header">
<p>
Next: <a href="#in_002dpackage" accesskey="n" rel="next">in-package</a>, Previous: <a href="#unexport" accesskey="p" rel="prev">unexport</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">unintern</h4>
<span id="unintern-_0028Function_0029"></span><h3 class="heading">unintern (Function)</h3>
<span id="index-unintern-2"></span>
<span id="index-unintern"></span>


<span id="Syntax_003a-198"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-unintern-1">Function: <strong>unintern</strong> <em>symbol <tt>&amp;optional</tt> package <span class="roman">→</span> generalized-boolean</em></dt>
</dl>

<span id="Arguments-and-Values_003a-187"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>symbol</var>&mdash;a <i>symbol</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<p><var>generalized-boolean</var>&mdash;a <i>generalized boolean</i>.
</p>
<span id="Description_003a-251"></span><h4 class="subsubheading">Description:</h4>
<p><code>unintern</code> removes <var>symbol</var> from <var>package</var>.
If <var>symbol</var> is <i>present</i> in <var>package</var>, it is
removed from <var>package</var> and also from <var>package</var>&rsquo;s 
<i>shadowing symbols list</i> if it is present there.  If <var>package</var> is the
<i>home package</i> for <var>symbol</var>, <var>symbol</var> is made to have no 
<i>home package</i>.
<var>Symbol</var> may continue to be <i>accessible</i>
in <var>package</var> by inheritance.
</p>
<p>Use of <code>unintern</code> can result in a <i>symbol</i> 
that has no
recorded <i>home package</i>,
but that in fact is <i>accessible</i> in some <i>package</i>.
<span class="roman">Common Lisp</span>&nbsp;<!-- /@w -->does not check for this pathological case, 
and such <i>symbols</i>
are always printed preceded by <code>#:</code>.
</p>
<p><code>unintern</code> returns <i>true</i> if it removes <var>symbol</var>, and <code>nil</code>&nbsp;<!-- /@w -->otherwise.
</p>
<span id="Examples_003a-170"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (setq temps-unpack (intern &quot;UNPACK&quot; (make-package 'temp))) <span class="roman">→</span> TEMP::UNPACK 
 (unintern temps-unpack 'temp) <span class="roman">→</span> T
 (find-symbol &quot;UNPACK&quot; 'temp) <span class="roman">→</span> NIL, NIL 
 temps-unpack <span class="roman">→</span> #:UNPACK 
</pre></div>


<span id="Side-Effects_003a-29"></span><h4 class="subsubheading">Side Effects:</h4>

<p><code>unintern</code> changes the state of the
package system in such a way that the consistency rules do not hold
across the change.
</p>
<span id="Affected-By_003a-51"></span><h4 class="subsubheading">Affected By:</h4>
<p>Current state of the package system.
</p>
<span id="Exceptional-Situations_003a-69"></span><h4 class="subsubheading">Exceptional Situations:</h4>
<p>Giving a shadowing symbol to <code>unintern</code> 
can uncover a name conflict that had
previously been resolved by the shadowing.  If package A uses packages
B and C, A contains a shadowing symbol <code>x</code>, and B and C each contain external
symbols named <code>x</code>, then removing the shadowing symbol <code>x</code>
from A will reveal a name
conflict between <code>b:x</code> and <code>c:x</code> if those two <i>symbols</i> are distinct.
In this case <code>unintern</code> will signal an error.
</p>
<span id="See-Also_003a-223"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>
</p>

<hr>
<span id="in_002dpackage"></span><div class="header">
<p>
Next: <a href="#unuse_002dpackage" accesskey="n" rel="next">unuse-package</a>, Previous: <a href="#unintern" accesskey="p" rel="prev">unintern</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">in-package</h4>
<span id="in_002dpackage-_0028Macro_0029"></span><h3 class="heading">in-package (Macro)</h3>
<span id="index-in_002dpackage-2"></span>
<span id="index-in_002dpackage"></span>



<span id="Syntax_003a-199"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-in_002dpackage-1">Macro: <strong>in-package</strong> <em>name <span class="roman">→</span> package</em></dt>
</dl>

<span id="Arguments-and-Values_003a-188"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>name</var>&mdash;a <i>string designator</i>; not evaluated.
</p>
<p><var>package</var>&mdash;the <i>package</i> named by <var>name</var>.
</p>
<span id="Description_003a-252"></span><h4 class="subsubheading">Description:</h4>

<p>Causes the the <i>package</i> named by <var>name</var> 
to become the <i>current package</i>&mdash;that is, the <i>value</i> of <code>*package*</code>.
If no such <i>package</i> already exists, an error of <i>type</i> <code>package-error</code> is signaled.
</p>
<p>Everything <code>in-package</code> does is also performed at compile time
if the call appears as a <i>top level form</i>.
</p>
<span id="Side-Effects_003a-30"></span><h4 class="subsubheading">Side Effects:</h4>

<p>The <i>variable</i> <code>*package*</code> is assigned.
If the <code>in-package</code> <i>form</i> is a <i>top level form</i>, 
this assignment also occurs at compile time.
</p>
<span id="Exceptional-Situations_003a-70"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>An error of <i>type</i> <code>package-error</code> is signaled if the specified <i>package</i> does not exist.
</p>
<span id="See-Also_003a-224"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#g_t_002apackage_002a">*package*</a>
</p>


<hr>
<span id="unuse_002dpackage"></span><div class="header">
<p>
Next: <a href="#use_002dpackage" accesskey="n" rel="next">use-package</a>, Previous: <a href="#in_002dpackage" accesskey="p" rel="prev">in-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">unuse-package</h4>
<span id="unuse_002dpackage-_0028Function_0029"></span><h3 class="heading">unuse-package (Function)</h3>
<span id="index-unuse_002dpackage-2"></span>
<span id="index-unuse_002dpackage"></span>


<span id="Syntax_003a-200"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-unuse_002dpackage-1">Function: <strong>unuse-package</strong> <em>packages-to-unuse <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-189"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>packages-to-unuse</var>&mdash;a <i>designator</i> for
a <i>list</i> of <i>package designators</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<span id="Description_003a-253"></span><h4 class="subsubheading">Description:</h4>

<p><code>unuse-package</code> causes <var>package</var> to cease inheriting
all the <i>external symbols</i> of 
<var>packages-to-unuse</var>; <code>unuse-package</code> undoes
the effects of <code>use-package</code>.   The 
<var>packages-to-unuse</var> 
are removed from the <i>use list</i> of <var>package</var>.
</p>
<p>Any <i>symbols</i> that have been
<i>imported</i> into <var>package</var> continue to be <i>present</i> in <var>package</var>.
</p>
<span id="Examples_003a-171"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (export (intern &quot;SHOES&quot; (make-package 'temp)) 'temp) <span class="roman">→</span> T
 (find-symbol &quot;SHOES&quot;) <span class="roman">→</span> NIL, NIL
 (use-package 'temp) <span class="roman">→</span> T
 (find-symbol &quot;SHOES&quot;) <span class="roman">→</span> SHOES, :INHERITED
 (find (find-package 'temp) (package-use-list 'common-lisp-user)) <span class="roman">→</span> #&lt;PACKAGE &quot;TEMP&quot;&gt;
 (unuse-package 'temp) <span class="roman">→</span> T
 (find-symbol &quot;SHOES&quot;) <span class="roman">→</span> NIL, NIL
</pre></div>


<span id="Side-Effects_003a-31"></span><h4 class="subsubheading">Side Effects:</h4>

<p>The <i>use list</i> of <var>package</var> is modified.
</p>
<span id="Affected-By_003a-52"></span><h4 class="subsubheading">Affected By:</h4>
<p>Current state of the package system.
</p><span id="See-Also_003a-225"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#use_002dpackage">use-package</a>, <a href="#package_002duse_002dlist">package-use-list</a>
</p>

<hr>
<span id="use_002dpackage"></span><div class="header">
<p>
Next: <a href="#defpackage" accesskey="n" rel="next">defpackage</a>, Previous: <a href="#unuse_002dpackage" accesskey="p" rel="prev">unuse-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">use-package</h4>
<span id="use_002dpackage-_0028Function_0029"></span><h3 class="heading">use-package (Function)</h3>
<span id="index-use_002dpackage-2"></span>
<span id="index-use_002dpackage"></span>


<span id="Syntax_003a-201"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-use_002dpackage-1">Function: <strong>use-package</strong> <em>packages-to-use <tt>&amp;optional</tt> package <span class="roman">→</span> <code>t</code></em></dt>
</dl>

<span id="Arguments-and-Values_003a-190"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>packages-to-use</var>&mdash;a <i>designator</i> for 
a <i>list</i> of <i>package designators</i>.
The <code>KEYWORD</code> <i>package</i> may not be supplied.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
The <var>package</var> cannot be the <code>KEYWORD</code> <i>package</i>.
</p>
<span id="Description_003a-254"></span><h4 class="subsubheading">Description:</h4>

<p><code>use-package</code> causes <var>package</var> to inherit all the
<i>external symbols</i> of <var>packages-to-use</var>.
The inherited <i>symbols</i> become <i>accessible</i> as 
<i>internal symbols</i> of <var>package</var>.  
</p>
<p><var>Packages-to-use</var> are added to the <i>use list</i> of <var>package</var>
if they are not there already.  All <i>external symbols</i> in
<var>packages-to-use</var> become <i>accessible</i> in <var>package</var>
as <i>internal symbols</i>.
<code>use-package</code> does not cause any new <i>symbols</i> to be <i>present</i>
in <var>package</var> but only makes them <i>accessible</i> by inheritance.
</p>
<p><code>use-package</code> checks for
name conflicts between the newly imported symbols and those already
<i>accessible</i> in <var>package</var>.  
A name conflict in <code>use-package</code> 
between two external symbols inherited
by <var>package</var> from <var>packages-to-use</var> may be resolved in favor of
either <i>symbol</i> 
by <i>importing</i> one of them into <var>package</var> and making it a
shadowing symbol. 
</p>
<span id="Examples_003a-172"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (export (intern &quot;LAND-FILL&quot; (make-package 'trash)) 'trash) <span class="roman">→</span> T
 (find-symbol &quot;LAND-FILL&quot; (make-package 'temp)) <span class="roman">→</span> NIL, NIL
 (package-use-list 'temp) <span class="roman">→</span> (#&lt;PACKAGE &quot;TEMP&quot;&gt;)
 (use-package 'trash 'temp) <span class="roman">→</span> T
 (package-use-list 'temp) <span class="roman">→</span> (#&lt;PACKAGE &quot;TEMP&quot;&gt; #&lt;PACKAGE &quot;TRASH&quot;&gt;)
 (find-symbol &quot;LAND-FILL&quot; 'temp) <span class="roman">→</span> TRASH:LAND-FILL, :INHERITED
</pre></div>


<span id="Side-Effects_003a-32"></span><h4 class="subsubheading">Side Effects:</h4>

<p>The <i>use list</i> of <var>package</var> may be modified.
</p>
<span id="See-Also_003a-226"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#unuse_002dpackage">unuse-package</a>,
<a href="#package_002duse_002dlist">package-use-list</a>,
<a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>
</p>
<span id="Notes_003a-131"></span><h4 class="subsubheading">Notes:</h4>

<p>It is permissible for a <i>package</i> P<sub>1</sub>
to <i>use</i> a <i>package</i> P<sub>2</sub>
even if P<sub>2</sub>
The using of <i>packages</i> is not transitive, 
so no problem results from the apparent circularity.
</p>

<hr>
<span id="defpackage"></span><div class="header">
<p>
Next: <a href="#do_002dsymbols_003b-do_002dexternal_002dsymbols_003b-do_002dall_002dsymbols" accesskey="n" rel="next">do-symbols; do-external-symbols; do-all-symbols</a>, Previous: <a href="#use_002dpackage" accesskey="p" rel="prev">use-package</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">defpackage</h4>
<span id="defpackage-_0028Macro_0029"></span><h3 class="heading">defpackage (Macro)</h3>
<span id="index-defpackage-2"></span>
<span id="index-defpackage"></span>



<span id="Syntax_003a-202"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-defpackage-1">Macro: <strong>defpackage</strong> <em>defined-package-name 〚<tt>↓</tt>option〛 <span class="roman">→</span> package</em></dt>
</dl>

<dl compact="compact">
<dt><var>option</var>::=</dt>
<dd><p><tt>{</tt><tt>(</tt><tt>:nicknames</tt> <tt>{</tt>nickname<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>(</tt><tt>:documentation</tt> <i>string</i><tt>)</tt> | <br> <tt>{</tt><tt>(</tt><tt>:use</tt> <tt>{</tt>package-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>{</tt><tt>(</tt><tt>:shadow</tt> <tt>{</tt><tt>↓</tt>symbol-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>{</tt><tt>(</tt><tt>:shadowing-import-from</tt> <var>package-name</var> <tt>{</tt><tt>↓</tt>symbol-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>{</tt><tt>(</tt><tt>:import-from</tt> <var>package-name</var> <tt>{</tt><tt>↓</tt>symbol-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>{</tt><tt>(</tt><tt>:export</tt> <tt>{</tt><tt>↓</tt>symbol-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>{</tt><tt>(</tt><tt>:intern</tt> <tt>{</tt><tt>↓</tt>symbol-name<tt>}</tt>*<tt>)</tt><tt>}</tt>* | <br> <tt>(</tt><tt>:size</tt> <i>integer</i><tt>)</tt>
</p></dd>
</dl>

<span id="Arguments-and-Values_003a-191"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>defined-package-name</var>&mdash;a <i>string designator</i>.
</p>
<p><var>package-name</var>&mdash;a <i>package designator</i>.
</p>
<p><var>nickname</var>&mdash;a <i>string designator</i>.
</p>
<p><var>symbol-name</var>&mdash;a <i>string designator</i>.
</p>
<p><var>package</var>&mdash;the <i>package</i> named <var>package-name</var>.
</p>
<span id="Description_003a-255"></span><h4 class="subsubheading">Description:</h4>

<p><code>defpackage</code> creates a <i>package</i> as specified and returns 
the <i>package</i>.
</p>
<p>If <var>defined-package-name</var> already refers to an existing 
<i>package</i>, the name-to-package mapping for that name is not changed.
If the new definition is at variance with the current state of that
<i>package</i>, the consequences are undefined;  an implementation
might choose to modify the existing <i>package</i> to reflect the
new definition.  If <var>defined-package-name</var> is a <i>symbol</i>,
its <i>name</i> is used.
</p>
<p>The standard <i>options</i> are described below. 
</p>

<dl compact="compact">
<dt><tt>:nicknames</tt></dt>
<dd>

<p>The arguments to <tt>:nicknames</tt> set the <i>package</i>&rsquo;s nicknames to the
supplied names.
</p>
</dd>
<dt><tt>:documentation</tt></dt>
<dd>

<p>The argument to <tt>:documentation</tt> specifies a <i>documentation string</i>;
it is attached as a <i>documentation string</i> to the <i>package</i>.
At most one <tt>:documentation</tt> option 
can appear in a single <code>defpackage</code> <i>form</i>.
</p>
</dd>
<dt><tt>:use</tt></dt>
<dd>

<p>The arguments to <tt>:use</tt> set the <i>packages</i> that the <i>package</i>
named by <var>package-name</var>
will inherit from. If <tt>:use</tt> is not supplied,
it defaults to the same <i>implementation-dependent</i> value as the <tt>:use</tt> <i>argument</i> to
<code>make-package</code>.
</p>
</dd>
<dt><tt>:shadow</tt></dt>
<dd>

<p>The arguments to <tt>:shadow</tt>, <var>symbol-names</var>, name <i>symbols</i> 
that are to be created in the <i>package</i> being defined.
These <i>symbols</i> are added to the list of shadowing
<i>symbols</i> effectively as if by <code>shadow</code>.
</p>
</dd>
<dt><tt>:shadowing-import-from</tt></dt>
<dd>

<p>The <i>symbols</i> named by the argument <var>symbol-names</var>
are found (involving a lookup as if by <code>find-symbol</code>)
in the specified <var>package-name</var>.  The resulting <i>symbols</i>
are <i>imported</i> into the <i>package</i> being defined, and 
placed on the shadowing symbols list as if by <code>shadowing-import</code>.
In no case are <i>symbols</i> created in any <i>package</i>
other than the one being defined.
</p>
</dd>
<dt><tt>:import-from</tt></dt>
<dd>

<p>The <i>symbols</i> named by the argument <var>symbol-names</var>
are found in the <i>package</i> named by <var>package-name</var> and 
they are <i>imported</i> into the <i>package</i> being defined.
In no case are <i>symbols</i> created in any <i>package</i>
other than the one being defined.
</p>
</dd>
<dt><tt>:export</tt></dt>
<dd>

<p>The <i>symbols</i> named by
the argument <var>symbol-names</var>  are found 
or created in the <i>package</i> being defined
and <i>exported</i>.
The <tt>:export</tt> option interacts
with the <tt>:use</tt> option, since inherited <i>symbols</i> 
can be used rather than new ones created.
The <tt>:export</tt> option interacts
with the 
<tt>:import-from</tt> and <tt>:shadowing-import-from</tt> options, since 
<i>imported</i> 
symbols can be used rather than new ones created.
If an argument to the <tt>:export</tt> option is <i>accessible</i> as
an (inherited) <i>internal symbol</i> via <code>use-package</code>, that the
<i>symbol</i> named by <var>symbol-name</var>
is first <i>imported</i> into the <i>package</i> being
defined, and is then <i>exported</i> from that <i>package</i>.
</p>
</dd>
<dt><tt>:intern</tt></dt>
<dd>

<p>The <i>symbols</i> named by the argument <var>symbol-names</var> 
are found or created in the <i>package</i> being defined.
The <tt>:intern</tt> option interacts with the 
<tt>:use</tt> option, since inherited <i>symbols</i> 
can be used rather than new ones created.  
</p>
</dd>
<dt><tt>:size</tt></dt>
<dd>

<p>The argument to the <tt>:size</tt> option
declares the approximate number of <i>symbols</i> expected in the 
<i>package</i>.
This is an efficiency hint only and might be ignored by an
implementation.
</p></dd>
</dl>


<p>The order in which the options appear in a 
<code>defpackage</code> form is irrelevant.
The order in which they are executed is as follows:
</p>
<ol>
<li> <tt>:shadow</tt> and <tt>:shadowing-import-from</tt>.
</li><li> <tt>:use</tt>. 
</li><li> <tt>:import-from</tt> and <tt>:intern</tt>.
</li><li> <tt>:export</tt>.
</li></ol>

<p>Shadows are established first, since they might  be necessary to block 
spurious name conflicts when the <tt>:use</tt> 
option is processed. The <tt>:use</tt> option is executed
next so that <tt>:intern</tt> and <tt>:export</tt> options can refer to normally 
inherited <i>symbols</i>.  
The <tt>:export</tt> option is executed last so that it can refer to 
<i>symbols</i> created by any of the other options; in 
particular, <i>shadowing symbols</i> and 
<i>imported</i> <i>symbols</i> can be made external.  
</p>
<p>If a defpackage <i>form</i> appears as a <i>top level form</i>,
all of the actions normally performed by this <i>macro</i> 
at load time must also be performed at compile time.
</p>
<span id="Examples_003a-173"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (defpackage &quot;MY-PACKAGE&quot;
   (:nicknames &quot;MYPKG&quot; &quot;MY-PKG&quot;)
   (:use &quot;COMMON-LISP&quot;)
   (:shadow &quot;CAR&quot; &quot;CDR&quot;)
   (:shadowing-import-from &quot;VENDOR-COMMON-LISP&quot;  &quot;CONS&quot;)
   (:import-from &quot;VENDOR-COMMON-LISP&quot;  &quot;GC&quot;)
   (:export &quot;EQ&quot; &quot;CONS&quot; &quot;FROBOLA&quot;)
   )
 
 
 (defpackage my-package
   (:nicknames mypkg :MY-PKG)  ; remember Common Lisp conventions for case
   (:use common-lisp)          ; conversion on symbols
   (:shadow CAR :cdr #:cons)                              
   (:export &quot;CONS&quot;)            ; this is the shadowed one.
   )
</pre></div>


<span id="Affected-By_003a-53"></span><h4 class="subsubheading">Affected By:</h4>

<p>Existing <i>packages</i>.
</p>
<span id="Exceptional-Situations_003a-71"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>If one of the supplied <tt>:nicknames</tt> already
refers to an existing <i>package</i>, 
an error of <i>type</i> <code>package-error</code> is signaled.
</p>
<p>An error of <i>type</i> <code>program-error</code> should be signaled if <tt>:size</tt> or <tt>:documentation</tt>
appears more than once.
</p>
<p>Since <i>implementations</i> might allow extended <i>options</i>
an error of <i>type</i> <code>program-error</code> should be signaled
if an <i>option</i> is present that is not 
actually supported in the host <i>implementation</i>.
</p>
<p>The collection of <var>symbol-name</var> arguments given to the options 
<tt>:shadow</tt>, <tt>:intern</tt>, 
<tt>:import-from</tt>, and <tt>:shadowing-import-from</tt> must 
all be disjoint; additionally, the <var>symbol-name</var> arguments given to 
<tt>:export</tt> and <tt>:intern</tt> 
must be disjoint. 
Disjoint in this context is defined as no two of the <var>symbol-names</var>
being <code>string=</code> with each other. If either condition is 
violated, an error of <i>type</i> <code>program-error</code> should be signaled.
</p>
<p>For the <tt>:shadowing-import-from</tt> and <tt>:import-from</tt> options,
a <i>correctable</i> <i>error</i> of <i>type</i> <code>package-error</code>
is signaled if no <i>symbol</i> is 
<i>accessible</i> in the <i>package</i> named by
<var>package-name</var> for one of the argument <var>symbol-names</var>.
</p>
<p>Name conflict errors are handled by the underlying calls to 
<code>make-package</code>, <code>use-package</code>, <code>import</code>, and 
<code>export</code>. See <a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>.
</p>
<span id="See-Also_003a-227"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Environment.html#documentation">documentation</a>,
<a href="#Package-Concepts">Section 11.1 (Package Concepts)</a>,
<a href="Evaluation-and-Compilation.html#Compilation">Section 3.2 (Compilation)</a>
</p>
<span id="Notes_003a-132"></span><h4 class="subsubheading">Notes:</h4>

<p>The <tt>:intern</tt> option is useful if an <tt>:import-from</tt> or a 
<tt>:shadowing-import-from</tt> option in a subsequent call to <code>defpackage</code> 
(for some other <i>package</i>) expects to find
these <i>symbols</i> <i>accessible</i> but not necessarily external.
</p>

<p>It is recommended that the entire <i>package</i> definition is put
in a single place, and that all the <i>package</i> definitions of a
program are in a single file.  This file can be <i>loaded</i> before
<i>loading</i> or compiling anything else that depends on those 
<i>packages</i>. Such a file can be read in the <code>COMMON-LISP-USER</code> <i>package</i>,
avoiding any initial state issues.
</p>
<p><code>defpackage</code> cannot be used to create two &ldquo;mutually
recursive&rdquo; packages, such as:
</p>
<div class="lisp">
<pre class="lisp"> (defpackage my-package
   (:use common-lisp your-package)    ;requires your-package to exist first
   (:export &quot;MY-FUN&quot;))                
 (defpackage your-package
   (:use common-lisp)
   (:import-from my-package &quot;MY-FUN&quot;) ;requires my-package to exist first
   (:export &quot;MY-FUN&quot;))
</pre></div>


<p>However, nothing prevents the user from using the 
<i>package</i>-affecting functions 
such as <code>use-package</code>, 
<code>import</code>, and <code>export</code> to establish such links
after a more standard use of <code>defpackage</code>.
</p>
<p>The macroexpansion of <code>defpackage</code> 
could usefully canonicalize the names
into <i>strings</i>, 
so that even if a source file has random <i>symbols</i> in the
<code>defpackage</code> form, the compiled file would only contain 
<i>strings</i>.
</p>
<p>Frequently additional <i>implementation-dependent</i> options take the
form of a <i>keyword</i> standing by itself as an abbreviation for a list
<code>(keyword T)</code>; this syntax should be properly reported as an unrecognized
option in implementations that do not support it.
</p>

<hr>
<span id="do_002dsymbols_003b-do_002dexternal_002dsymbols_003b-do_002dall_002dsymbols"></span><div class="header">
<p>
Next: <a href="#intern" accesskey="n" rel="next">intern</a>, Previous: <a href="#defpackage" accesskey="p" rel="prev">defpackage</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">do-symbols; do-external-symbols; do-all-symbols</h4>
<span id="do_002dsymbols_002c-do_002dexternal_002dsymbols_002c-do_002dall_002dsymbols-_0028Macro_0029"></span><h3 class="heading">do-symbols, do-external-symbols, do-all-symbols (Macro)</h3>
<span id="index-do_002dsymbols-2"></span>
<span id="index-do_002dsymbols"></span>
<span id="index-do_002dexternal_002dsymbols-2"></span>
<span id="index-do_002dexternal_002dsymbols"></span>
<span id="index-do_002dall_002dsymbols-2"></span>
<span id="index-do_002dall_002dsymbols"></span>



<span id="Syntax_003a-203"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-do_002dsymbols-1">Macro: <strong>do-symbols</strong> <em><tt>(</tt>var&nbsp;<tt>[</tt>package&nbsp;<tt>[</tt><span class="nolinebreak">result-form</span><tt>]</tt><tt>]</tt><tt>)</tt><!-- /@w --> <tt>{</tt>declaration<tt>}</tt>*&nbsp;<tt>{</tt>tag&nbsp;|&nbsp;statement<tt>}</tt>*<!-- /@w --> <span class="roman">→</span> <tt>{</tt>result<tt>}</tt>*</em></dt>
</dl>

<dl>
<dt id="index-do_002dexternal_002dsymbols-1">Macro: <strong>do-external-symbols</strong> <em><tt>(</tt>var&nbsp;<tt>[</tt>package&nbsp;<tt>[</tt><span class="nolinebreak">result-form</span><tt>]</tt><tt>]</tt><tt>)</tt><!-- /@w --> <tt>{</tt>declaration<tt>}</tt>*&nbsp;<tt>{</tt>tag&nbsp;|&nbsp;statement<tt>}</tt>*<!-- /@w --> <span class="roman">→</span> <tt>{</tt>result<tt>}</tt>*</em></dt>
</dl>

<dl>
<dt id="index-do_002dall_002dsymbols-1">Macro: <strong>do-all-symbols</strong> <em><tt>(</tt>var&nbsp;<tt>[</tt><span class="nolinebreak">result-form</span><tt>]</tt><tt>)</tt><!-- /@w --> <tt>{</tt>declaration<tt>}</tt>*&nbsp;<tt>{</tt>tag&nbsp;|&nbsp;statement<tt>}</tt>*<!-- /@w --> <span class="roman">→</span> <tt>{</tt>result<tt>}</tt>*</em></dt>
</dl>

<span id="Arguments-and-Values_003a-192"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>var</var>&mdash;a <i>variable</i> <i>name</i>; not evaluated.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>; evaluated.
The defaults in <code>do-symbols</code> and <code>do-external-symbols</code> is the <i>current package</i>.
</p>
<p><var>result-form</var>&mdash;a <i>form</i>; evaluated as described below.
The default is <code>nil</code>.
</p>
<p><var>declaration</var>&mdash;a <tt>declare</tt> <i>expression</i>; not evaluated.
</p>
<p><var>tag</var>&mdash;a <i>go tag</i>; not evaluated.
</p>
<p><var>statement</var>&mdash;a <i>compound form</i>; evaluated as described below.
</p>
<p><var>results</var>&mdash;the <i>values</i> returned by the <var>result-form</var> 
if a <i>normal return</i> occurs,
or else, if an <i>explicit return</i> occurs, the <i>values</i> that were transferred.
</p>
<span id="Description_003a-256"></span><h4 class="subsubheading">Description:</h4>

<p><code>do-symbols</code>,
<code>do-external-symbols</code>, and
<code>do-all-symbols</code> iterate over the <i>symbols</i> 
of <i>packages</i>.
For each <i>symbol</i> in the set of <i>packages</i> chosen,
the <var>var</var> is bound to the <i>symbol</i>,
and the <var>statements</var> in the body are executed.  
When all the <i>symbols</i> have been processed,
<var>result-form</var> is evaluated and returned as the value of the macro.  
</p>
<p><code>do-symbols</code> iterates 
over the <i>symbols</i> <i>accessible</i> in
<var>package</var>.
<var>Statements</var> may execute more than once for <i>symbols</i> 
that are inherited from multiple <i>packages</i>.
</p>
<p><code>do-all-symbols</code> iterates on every <i>registered package</i>. 
<code>do-all-symbols</code> will not process every <i>symbol</i>
whatsoever, because a <i>symbol</i> not <i>accessible</i> in any
<i>registered package</i> will not be processed.
<code>do-all-symbols</code> may cause a <i>symbol</i> that is <i>present</i> in
several <i>packages</i> to be processed more than once.
</p>
<p><code>do-external-symbols</code> iterates on the external symbols of <var>package</var>.
</p>
<p>When <var>result-form</var> is evaluated, <var>var</var> is bound and has the value <code>nil</code>.
</p>
<p>An <i>implicit block</i> named <code>nil</code>&nbsp;<!-- /@w -->surrounds the entire <code>do-symbols</code>,
<code>do-external-symbols</code>, or <code>do-all-symbols</code> <i>form</i>.
<code>return</code> or <code>return-from</code> may be used to terminate the 
iteration prematurely.  
</p>
<p>If execution of the body affects which <i>symbols</i> 
are contained in the set of <i>packages</i> over which iteration
is occurring, other than to
remove the <i>symbol</i> 
currently the value of <var>var</var> by using <code>unintern</code>,
the consequences are undefined.
</p>
<p>For each of these macros, the 
<i>scope</i> of the name binding does not include any
initial value form, but the optional result forms are included.
</p>
<p>Any <var>tag</var> in the body is treated as with <code>tagbody</code>.
</p>
<span id="Examples_003a-174"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (make-package 'temp :use nil) <span class="roman">→</span> #&lt;PACKAGE &quot;TEMP&quot;&gt;
 (intern &quot;SHY&quot; 'temp) <span class="roman">→</span> TEMP::SHY, NIL ;SHY will be an internal symbol
                                         ;in the package TEMP
 (export (intern &quot;BOLD&quot; 'temp) 'temp)  <span class="roman">→</span> T  ;BOLD will be external  
 (let ((lst ()))
   (do-symbols (s (find-package 'temp)) (push s lst))
   lst)
<span class="roman">→</span> (TEMP::SHY TEMP:BOLD)
or<span class="roman">→</span> (TEMP:BOLD TEMP::SHY)
 (let ((lst ()))
   (do-external-symbols (s (find-package 'temp) lst) (push s lst))
   lst) 
<span class="roman">→</span> (TEMP:BOLD)
 (let ((lst ()))                                                     
   (do-all-symbols (s lst)
     (when (eq (find-package 'temp) (symbol-package s)) (push s lst)))
   lst)
<span class="roman">→</span> (TEMP::SHY TEMP:BOLD)
or<span class="roman">→</span> (TEMP:BOLD TEMP::SHY)
</pre></div>


<span id="See-Also_003a-228"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#intern">intern</a>,
<a href="#export">export</a>,
<a href="Evaluation-and-Compilation.html#Traversal-Rules-and-Side-Effects">Section 3.6 (Traversal Rules and Side Effects)</a>
</p>


<hr>
<span id="intern"></span><div class="header">
<p>
Next: <a href="#package_002dname" accesskey="n" rel="next">package-name</a>, Previous: <a href="#do_002dsymbols_003b-do_002dexternal_002dsymbols_003b-do_002dall_002dsymbols" accesskey="p" rel="prev">do-symbols; do-external-symbols; do-all-symbols</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">intern</h4>
<span id="intern-_0028Function_0029"></span><h3 class="heading">intern (Function)</h3>
<span id="index-intern-2"></span>
<span id="index-intern"></span>


<span id="Syntax_003a-204"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-intern-1">Function: <strong>intern</strong> <em>string <tt>&amp;optional</tt> package <span class="roman">→</span> symbol, status</em></dt>
</dl>

<span id="Arguments-and-Values_003a-193"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>string</var>&mdash;a <i>string</i>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
The default is the <i>current package</i>.
</p>
<p><var>symbol</var>&mdash;a <i>symbol</i>.
</p>
<p><var>status</var>&mdash;one of <tt>:inherited</tt>, <tt>:external</tt>, <tt>:internal</tt>, or <code>nil</code>.
</p>
<span id="Description_003a-257"></span><h4 class="subsubheading">Description:</h4>

<p><code>intern</code> enters a <i>symbol</i> named <var>string</var> into <var>package</var>.
If a <i>symbol</i> whose name is the same as <var>string</var> 
is already <i>accessible</i> in <var>package</var>, it is returned.
If no such <i>symbol</i> is <i>accessible</i> in <var>package</var>, 
a new <i>symbol</i> with the given name is created 
and entered into <var>package</var> as an <i>internal symbol</i>,
or as an <i>external symbol</i> if the <var>package</var> is the <code>KEYWORD</code> <i>package</i>; 
<var>package</var> becomes the <i>home package</i> of the created <i>symbol</i>.
</p>
<p>The first value returned by <code>intern</code>, <var>symbol</var>,
is the <i>symbol</i> that was found or
created.  
The meaning of the <i>secondary value</i>, <var>status</var>, is as follows:
</p>
<dl compact="compact">
<dt><tt>:internal</tt></dt>
<dd>

<p>The <i>symbol</i> was found 
and is
<i>present</i> in <var>package</var> as an <i>internal symbol</i>.
</p>
</dd>
<dt><tt>:external</tt></dt>
<dd>

<p>The <i>symbol</i> was found
and is
<i>present</i> as an <i>external symbol</i>.
</p>
</dd>
<dt><tt>:inherited</tt></dt>
<dd>

<p>The <i>symbol</i> was found
and is inherited via <code>use-package</code> 
(which implies that the <i>symbol</i> is internal).
</p>
</dd>
<dt><code>nil</code></dt>
<dd>

<p>No pre-existing <i>symbol</i> was found,
so one was created.
</p>
<p>It is <i>implementation-dependent</i> whether the <i>string</i> 
that becomes the new <i>symbol</i>&rsquo;s <i>name</i> is the given
<var>string</var> or a copy of it.  Once a <i>string</i>
has been given as the <var>string</var> <i>argument</i> to
<i>intern</i> in this situation where a new <i>symbol</i> is created,
the consequences are undefined if a
subsequent attempt is made to alter that <i>string</i>.
</p></dd>
</dl>


<span id="Examples_003a-175"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (intern &quot;Never-Before&quot;) <span class="roman">→</span> |Never-Before|, NIL
 (intern &quot;Never-Before&quot;) <span class="roman">→</span> |Never-Before|, :INTERNAL 
 (intern &quot;NEVER-BEFORE&quot; &quot;KEYWORD&quot;) <span class="roman">→</span> :NEVER-BEFORE, NIL
 (intern &quot;NEVER-BEFORE&quot; &quot;KEYWORD&quot;) <span class="roman">→</span> :NEVER-BEFORE, :EXTERNAL
</pre></div>


<span id="See-Also_003a-229"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#find_002dsymbol">find-symbol</a>,
<a href="Reader.html#read">read</a>,
<a href="Symbols.html#symbol">symbol</a>,
<a href="#unintern">unintern</a>,
<a href="Syntax.html#Symbols-as-Tokens">Section 2.3.4 (Symbols as Tokens)</a>
</p>
<span id="Notes_003a-133"></span><h4 class="subsubheading">Notes:</h4>

<p><code>intern</code> does not need to do any name conflict checking 
because it never creates a new <i>symbol</i> 
if there is already an <i>accessible</i> <i>symbol</i> with the name given.
</p>

<hr>
<span id="package_002dname"></span><div class="header">
<p>
Next: <a href="#package_002dnicknames" accesskey="n" rel="next">package-nicknames</a>, Previous: <a href="#intern" accesskey="p" rel="prev">intern</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-name</h4>
<span id="package_002dname-_0028Function_0029"></span><h3 class="heading">package-name (Function)</h3>
<span id="index-package_002dname-2"></span>
<span id="index-package_002dname"></span>


<span id="Syntax_003a-205"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002dname-1">Function: <strong>package-name</strong> <em>package <span class="roman">→</span> name</em></dt>
</dl>

<span id="Arguments-and-Values_003a-194"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>name</var>&mdash;a <i>string</i> 
or <code>nil</code>.
</p>
<span id="Description_003a-258"></span><h4 class="subsubheading">Description:</h4>

<p><code>package-name</code> returns the <i>string</i> that names <var>package</var>,
or <code>nil</code>&nbsp;<!-- /@w -->if the <var>package</var> <i>designator</i>
is a <i>package</i> <i>object</i> that has no name (see the <i>function</i> <a href="#delete_002dpackage">delete-package</a>).
</p>
<span id="Examples_003a-176"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (package-name *package*) <span class="roman">→</span> &quot;COMMON-LISP-USER&quot;
 (package-name (symbol-package :test)) <span class="roman">→</span> &quot;KEYWORD&quot;
 (package-name (find-package 'common-lisp)) <span class="roman">→</span> &quot;COMMON-LISP&quot;
</pre></div>


<div class="lisp">
<pre class="lisp"> (defvar *foo-package* (make-package &quot;FOO&quot;))
 (rename-package &quot;FOO&quot; &quot;FOO0&quot;)
 (package-name *foo-package*) <span class="roman">→</span> &quot;FOO0&quot;
</pre></div>


<span id="Exceptional-Situations_003a-72"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>package</var> is not a <i>package designator</i>.
</p>

<hr>
<span id="package_002dnicknames"></span><div class="header">
<p>
Next: <a href="#package_002dshadowing_002dsymbols" accesskey="n" rel="next">package-shadowing-symbols</a>, Previous: <a href="#package_002dname" accesskey="p" rel="prev">package-name</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-nicknames</h4>
<span id="package_002dnicknames-_0028Function_0029"></span><h3 class="heading">package-nicknames (Function)</h3>
<span id="index-package_002dnicknames-2"></span>
<span id="index-package_002dnicknames"></span>


<span id="Syntax_003a-206"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002dnicknames-1">Function: <strong>package-nicknames</strong> <em>package <span class="roman">→</span> nicknames</em></dt>
</dl>

<span id="Arguments-and-Values_003a-195"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>nicknames</var>&mdash;a <i>list</i> of <i>strings</i>.
</p>
<span id="Description_003a-259"></span><h4 class="subsubheading">Description:</h4>

<p>Returns the <i>list</i> of nickname <i>strings</i>
for <var>package</var>, not including the name of <var>package</var>.
</p>
<span id="Examples_003a-177"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-nicknames (make-package 'temporary
                                   :nicknames '(&quot;TEMP&quot; &quot;temp&quot;)))
<span class="roman">→</span> (&quot;temp&quot; &quot;TEMP&quot;) 
</pre></div>


<span id="Exceptional-Situations_003a-73"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>package</var> is not a <i>package designator</i>.
</p>

<hr>
<span id="package_002dshadowing_002dsymbols"></span><div class="header">
<p>
Next: <a href="#package_002duse_002dlist" accesskey="n" rel="next">package-use-list</a>, Previous: <a href="#package_002dnicknames" accesskey="p" rel="prev">package-nicknames</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-shadowing-symbols</h4>
<span id="package_002dshadowing_002dsymbols-_0028Function_0029"></span><h3 class="heading">package-shadowing-symbols (Function)</h3>
<span id="index-package_002dshadowing_002dsymbols-2"></span>
<span id="index-package_002dshadowing_002dsymbols"></span>


<span id="Syntax_003a-207"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002dshadowing_002dsymbols-1">Function: <strong>package-shadowing-symbols</strong> <em>package <span class="roman">→</span> symbols</em></dt>
</dl>

<span id="Arguments-and-Values_003a-196"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>symbols</var>&mdash;a <i>list</i> of <i>symbols</i>.
</p>
<span id="Description_003a-260"></span><h4 class="subsubheading">Description:</h4>

<p>Returns a <i>list</i> of <i>symbols</i> that have been declared 
as <i>shadowing symbols</i> in <var>package</var> by <code>shadow</code> 
or <code>shadowing-import</code> (or the equivalent <code>defpackage</code> options).
All <i>symbols</i> on this <i>list</i> are <i>present</i> in <var>package</var>.
</p>
<span id="Examples_003a-178"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-shadowing-symbols (make-package 'temp)) <span class="roman">→</span> ()
 (shadow 'cdr 'temp) <span class="roman">→</span> T
 (package-shadowing-symbols 'temp) <span class="roman">→</span> (TEMP::CDR)
 (intern &quot;PILL&quot; 'temp) <span class="roman">→</span> TEMP::PILL, NIL
 (shadowing-import 'pill 'temp) <span class="roman">→</span> T
 (package-shadowing-symbols 'temp) <span class="roman">→</span> (PILL TEMP::CDR)
</pre></div>


<span id="Exceptional-Situations_003a-74"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>package</var> is not a <i>package designator</i>.
</p>
<span id="See-Also_003a-230"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#shadow">shadow</a>,
<a href="#shadowing_002dimport">shadowing-import</a>
</p>
<span id="Notes_003a-134"></span><h4 class="subsubheading">Notes:</h4>

<p>Whether the list of <var>symbols</var> is <i>fresh</i> is <i>implementation-dependent</i>.
</p>

<hr>
<span id="package_002duse_002dlist"></span><div class="header">
<p>
Next: <a href="#package_002dused_002dby_002dlist" accesskey="n" rel="next">package-used-by-list</a>, Previous: <a href="#package_002dshadowing_002dsymbols" accesskey="p" rel="prev">package-shadowing-symbols</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-use-list</h4>
<span id="package_002duse_002dlist-_0028Function_0029"></span><h3 class="heading">package-use-list (Function)</h3>
<span id="index-package_002duse_002dlist-2"></span>
<span id="index-package_002duse_002dlist"></span>


<span id="Syntax_003a-208"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002duse_002dlist-1">Function: <strong>package-use-list</strong> <em>package <span class="roman">→</span> use-list</em></dt>
</dl>

<span id="Arguments-and-Values_003a-197"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>use-list</var>&mdash;a <i>list</i> of <i>package</i> <i>objects</i>.
</p>
<span id="Description_003a-261"></span><h4 class="subsubheading">Description:</h4>

<p>Returns a <i>list</i> of other <i>packages</i> used by <var>package</var>.
</p>
<span id="Examples_003a-179"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-use-list (make-package 'temp)) <span class="roman">→</span> (#&lt;PACKAGE &quot;COMMON-LISP&quot;&gt;)
 (use-package 'common-lisp-user 'temp) <span class="roman">→</span> T
 (package-use-list 'temp) <span class="roman">→</span> (#&lt;PACKAGE &quot;COMMON-LISP&quot;&gt; #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;)
</pre></div>


<span id="Exceptional-Situations_003a-75"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>package</var> is not a <i>package designator</i>.
</p>
<span id="See-Also_003a-231"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#use_002dpackage">use-package</a>,
<a href="#unuse_002dpackage">unuse-package</a>
</p>

<hr>
<span id="package_002dused_002dby_002dlist"></span><div class="header">
<p>
Next: <a href="#packagep" accesskey="n" rel="next">packagep</a>, Previous: <a href="#package_002duse_002dlist" accesskey="p" rel="prev">package-use-list</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-used-by-list</h4>
<span id="package_002dused_002dby_002dlist-_0028Function_0029"></span><h3 class="heading">package-used-by-list (Function)</h3>
<span id="index-package_002dused_002dby_002dlist-2"></span>
<span id="index-package_002dused_002dby_002dlist"></span>


<span id="Syntax_003a-209"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002dused_002dby_002dlist-1">Function: <strong>package-used-by-list</strong> <em>package <span class="roman">→</span> used-by-list</em></dt>
</dl>

<span id="Arguments-and-Values_003a-198"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<p><var>used-by-list</var>&mdash;a <i>list</i> of <i>package</i> <i>objects</i>.
</p>
<span id="Description_003a-262"></span><h4 class="subsubheading">Description:</h4>

<p><code>package-used-by-list</code> returns a <i>list</i> 
of other <i>packages</i> that use <var>package</var>.
</p>
<span id="Examples_003a-180"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-used-by-list (make-package 'temp)) <span class="roman">→</span> ()
 (make-package 'trash :use '(temp)) <span class="roman">→</span> #&lt;PACKAGE &quot;TRASH&quot;&gt;
 (package-used-by-list 'temp) <span class="roman">→</span> (#&lt;PACKAGE &quot;TRASH&quot;&gt;)
</pre></div>


<span id="Exceptional-Situations_003a-76"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>package</var> is not a <i>package</i>.
</p>
<span id="See-Also_003a-232"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#use_002dpackage">use-package</a>,
<a href="#unuse_002dpackage">unuse-package</a>
</p>

<hr>
<span id="packagep"></span><div class="header">
<p>
Next: <a href="#g_t_002apackage_002a" accesskey="n" rel="next">*package*</a>, Previous: <a href="#package_002dused_002dby_002dlist" accesskey="p" rel="prev">package-used-by-list</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">packagep</h4>
<span id="packagep-_0028Function_0029"></span><h3 class="heading">packagep (Function)</h3>
<span id="index-packagep-2"></span>
<span id="index-packagep"></span>


<span id="Syntax_003a-210"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-packagep-1">Function: <strong>packagep</strong> <em>object <span class="roman">→</span> generalized-boolean</em></dt>
</dl>

<span id="Arguments-and-Values_003a-199"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>object</var>&mdash;an <i>object</i>.
</p>
<p><var>generalized-boolean</var>&mdash;a <i>generalized boolean</i>.
</p>
<span id="Description_003a-263"></span><h4 class="subsubheading">Description:</h4>

<p>Returns <i>true</i> if <var>object</var> is of <i>type</i> <code>package</code>;
otherwise, returns <i>false</i>.
</p>
<span id="Examples_003a-181"></span><h4 class="subsubheading">Examples:</h4>
<div class="lisp">
<pre class="lisp"> (packagep *package*) <span class="roman">→</span> <i>true</i> 
 (packagep 'common-lisp) <span class="roman">→</span> <i>false</i> 
 (packagep (find-package 'common-lisp)) <span class="roman">→</span> <i>true</i> 
</pre></div>


<span id="Notes_003a-135"></span><h4 class="subsubheading">Notes:</h4>

<div class="lisp">
<pre class="lisp"> (packagep <var>object</var>) ≡ (typep <var>object</var> 'package)
</pre></div>



<hr>
<span id="g_t_002apackage_002a"></span><div class="header">
<p>
Next: <a href="#package_002derror" accesskey="n" rel="next">package-error</a>, Previous: <a href="#packagep" accesskey="p" rel="prev">packagep</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*package*</h4>
<span id="g_t_002apackage_002a-_0028Variable_0029"></span><h3 class="heading">*package* (Variable)</h3>
<span id="index-_002apackage_002a-1"></span>
<span id="index-_002apackage_002a"></span>


<span id="Value-Type_003a-4"></span><h4 class="subsubheading">Value Type:</h4>

<p>a <i>package</i> <i>object</i>.
</p>
<span id="Initial-Value_003a-4"></span><h4 class="subsubheading">Initial Value:</h4>

<p>the <code>COMMON-LISP-USER</code> <i>package</i>.
</p>
<span id="Description_003a-264"></span><h4 class="subsubheading">Description:</h4>

<p>Whatever <i>package</i> <i>object</i> is currently 
the <i>value</i> of <code>*package*</code> is referred to as the <i>current package</i>.
</p>
<span id="Examples_003a-182"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (in-package &quot;COMMON-LISP-USER&quot;) <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 *package* <span class="roman">→</span> #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;
 (make-package &quot;SAMPLE-PACKAGE&quot; :use '(&quot;COMMON-LISP&quot;))
<span class="roman">→</span> #&lt;PACKAGE &quot;SAMPLE-PACKAGE&quot;&gt;
 (list 
   (symbol-package
     (let ((*package* (find-package 'sample-package)))
       (setq *some-symbol* (read-from-string &quot;just-testing&quot;))))
   *package*)
<span class="roman">→</span> (#&lt;PACKAGE &quot;SAMPLE-PACKAGE&quot;&gt; #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;)
 (list (symbol-package (read-from-string &quot;just-testing&quot;))
       *package*)
<span class="roman">→</span> (#&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt; #&lt;PACKAGE &quot;COMMON-LISP-USER&quot;&gt;)
 (eq 'foo (intern &quot;FOO&quot;)) <span class="roman">→</span> <i>true</i>
 (eq 'foo (let ((*package* (find-package 'sample-package)))
            (intern &quot;FOO&quot;)))
<span class="roman">→</span> <i>false</i>
</pre></div>


<span id="Affected-By_003a-54"></span><h4 class="subsubheading">Affected By:</h4>

<p><code>load</code>,
<code>compile-file</code>,
<code>in-package</code>
</p>
<span id="See-Also_003a-233"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="System-Construction.html#compile_002dfile">compile-file</a>,
<a href="#in_002dpackage">in-package</a>,
<a href="System-Construction.html#load">load</a>,
<a href="#package">package</a>
</p>

<hr>
<span id="package_002derror"></span><div class="header">
<p>
Next: <a href="#package_002derror_002dpackage" accesskey="n" rel="next">package-error-package</a>, Previous: <a href="#g_t_002apackage_002a" accesskey="p" rel="prev">*package*</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-error</h4>
<span id="package_002derror-_0028Condition-Type_0029"></span><h3 class="heading">package-error (Condition Type)</h3>
<span id="index-package_002derror-1"></span>
<span id="index-package_002derror"></span>


<span id="Class-Precedence-List_003a-34"></span><h4 class="subsubheading">Class Precedence List:</h4>
<p><code>package-error</code>,
<code>error</code>,
<code>serious-condition</code>,
<code>condition</code>,
<code>t</code>
</p>
<span id="Description_003a-265"></span><h4 class="subsubheading">Description:</h4>

<p>The <i>type</i> <code>package-error</code> consists of <i>error</i> <i>conditions</i>
related to operations on <i>packages</i>.
The offending <i>package</i> (or <i>package</i> <i>name</i>)
is initialized by the <tt>:package</tt> initialization argument to <code>make-condition</code>, 
and is <i>accessed</i> by the <i>function</i> <code>package-error-package</code>.
</p>
<span id="See-Also_003a-234"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#package_002derror_002dpackage">package-error-package</a>,
<a href="Conditions.html#Conditions">Chapter 9 (Conditions)</a>
</p>

<hr>
<span id="package_002derror_002dpackage"></span><div class="header">
<p>
Previous: <a href="#package_002derror" accesskey="p" rel="prev">package-error</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">package-error-package</h4>
<span id="package_002derror_002dpackage-_0028Function_0029"></span><h3 class="heading">package-error-package (Function)</h3>
<span id="index-package_002derror_002dpackage-2"></span>
<span id="index-package_002derror_002dpackage"></span>


<span id="Syntax_003a-211"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-package_002derror_002dpackage-1">Function: <strong>package-error-package</strong> <em>condition <span class="roman">→</span> package</em></dt>
</dl>

<span id="Arguments-and-Values_003a-200"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>condition</var>&mdash;a <i>condition</i> of <i>type</i> <code>package-error</code>.
</p>
<p><var>package</var>&mdash;a <i>package designator</i>.
</p>
<span id="Description_003a-266"></span><h4 class="subsubheading">Description:</h4>

<p>Returns a <i>designator</i> for the offending <i>package</i>
in the <i>situation</i> represented by the <var>condition</var>.
</p>
<span id="Examples_003a-183"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp"> (package-error-package 
   (make-condition 'package-error
     :package (find-package &quot;COMMON-LISP&quot;)))
<span class="roman">→</span> #&lt;Package &quot;COMMON-LISP&quot;&gt;
</pre></div>


<span id="See-Also_003a-235"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#package_002derror">package-error</a>
</p>



<hr>
<div class="header">
<p>
Previous: <a href="#package_002derror" accesskey="p" rel="prev">package-error</a>, Up: <a href="#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
