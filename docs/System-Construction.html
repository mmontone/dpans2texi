<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>System Construction (ANSI Common Lisp)</title>

<meta name="description" content="System Construction (ANSI Common Lisp)">
<meta name="keywords" content="System Construction (ANSI Common Lisp)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="Table-of-Contents.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Environment.html#Environment" rel="next" title="Environment">
<link href="Reader.html#reader_002derror" rel="prev" title="reader-error">
<style type="text/css">
<!--
/*
CSS for TexInfo/HTML files.

Copyright (C) 2015-2021 Assaf Gordon (assafgordon@gmail.com)

License:
GNU All Permissive License
https://www.gnu.org/prep/maintain/html_node/License-Notices-for-Other-Files.html

 Copying and distribution of this file, with or without modification,
 are permitted in any medium without royalty provided the copyright
 notice and this notice are preserved.  This file is offered as-is,
 without any warranty.


The used tags/classes were collected from a Texinfo-generated HTML using:

  cd coreutils
  makeinfo --html --no-split -o coreutils.html doc/coreutils.texi
  cat coreutils.html | sed 's/</\n</g' | sed 's;>.*;>;g' \
         | grep '^<' | grep 'class=' | sort -u \
         | perl -lane 'm/<(\w+) .*class="([-\w]+)"/ ; print $1, "\t", $2' \
         | sort -u

*/

a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {
  font-family: sans-serif;
  font-size: 16px;
  margin: 1em;

  overflow-x: hidden; /* Coupled with the div.header trick,
			 this will extend the header lines
			 access the entire page width without causing
			 a horizontal scroll bar to appear. */
}


a {
  text-decoration: none;
  outline-style: none;
  color: blue;
}
a:visited {
  color: rgb(16,0,112);
}
a:hover {
  text-decoration: underline;
}


/*****************************************************
   Titles / Headers
******************************************************/

/* @settitle:
   The title of the document at the top of the document/header */
h1.settitle {
  color: rgb(51,70,131);
  text-shadow: rgb(153,153,153) 1px 1px 0px;
}

/* The title at the beginning of the document, before the @menu */
h1.top {
  color: rgb(51,70,131);
  text-shadow: rgb(153,153,153) 1px 1px 0px;
}

/* @chapter */
h2.chapter {
}

h2.appendix { }
h2.unnumbered { }

/* @section */
h3.section {
}
/* @unnumberedsec */
h3.unnumberedsec {
}
/* @heading (seems to be only used in fdl.texi) */
h3.heading {
}

/* @subsection */
h4.subsection {
}


/**************************************************
  Short Contents (if @shortcontents command is used)
***************************************************/
h2.shortcontents-heading { }
div.shortcontents { }
div.shortcontents ul { }
div.shortcontents ul li { }


/**************************************************
  Contents (if @contents command is used)
***************************************************/
h2.contents-heading { }
div.contents { }
div.contents ul { }
div.contents ul li { }


/* The @menu table */
table.menu { }
pre.menu-comment {}



/************************************
  @example   and   @verbatim
************************************/
div.example {
  margin-left: 2em;
  margin-right: 2em;
}
div.example pre.example {
  /* Round Corners */
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #c0c0c0;

  padding: 1ex;
  background-color: #f3f3f3;
}

/* Note: @verbatim is also rendered inside a 'div.example' */
div.example pre.verbatim {
  /* Round Corners */
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #c0c0c0;

  padding: 1ex;
  background-color: #f3f3f3;
}



/************************************
  @smallexample
************************************/
div.smallexample {
}
div.smallexample pre.smallexample {
}

/***********************************
  @display
***********************************/
div.display {
}
div.display pre.display {
}



/**************************************
  @footnote
**************************************/
div.footnote { }
h4.footnotes-heading { }

/**************************************
The header at the top of each page / section
(the next/previous/top/up links)
**************************************/
div.header {
   padding-top: 0.5ex;
   padding-bottom: 0.5ex;
   background-color: #ddddff;

   /* This will extend the background color of the header
      bar to the entire width of the page (and beyond),
      requires 'overflow-x: hidden' in the 'body'. */
   padding-left: 3000px;
   margin-left: -3000px;
   padding-right: 3000px;
   margin-right: -3000px;
}

/* Disable any additional margins */
div.header p {
    margin: 0;
}
div.header p a {
    color: blue;
}


/**************************************
   @table is rendered as <dl> (defnition list),
   @item  is rendered as <dt> (definition term),
   text is rendered as <dd> (definition description)
**************************************/
dl {
   margin: 0 1em;
}
dl dt {
   margin: 1em 0;
}
dl dd {
   margin-left: 2em;
}

/*******************************************************
  Text Styles
*******************************************************/

/* @var{} */
var {
  color: #CC0000;
}

/* @samp{} */
samp {
  color: #6600CC;
}

/* @env{} will result in <p><code>X</code></p> */
p code {
  color: #532c14;
}

/* @option{} */
span.nocodebreak {
  color: #5D4C46;
}

-->
</style>


</head>

<body lang="en">
<span id="System-Construction"></span><div class="header">
<p>
Next: <a href="Environment.html#Environment" accesskey="n" rel="next">Environment</a>, Previous: <a href="Reader.html#Reader" accesskey="p" rel="prev">Reader</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="System-Construction-1"></span><h2 class="chapter">24 System Construction</h2>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#System-Construction-Concepts" accesskey="1">System Construction Concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Dictionary

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#compile_002dfile" accesskey="2">compile-file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#compile_002dfile_002dpathname" accesskey="3">compile-file-pathname</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#load" accesskey="4">load</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#with_002dcompilation_002dunit" accesskey="5">with-compilation-unit</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002afeatures_002a" accesskey="6">*features*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002acompile_002dfile_002dpathname_002a_003b-_002acompile_002dfile_002dtruename_002a" accesskey="7">*compile-file-pathname*; *compile-file-truename*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002aload_002dpathname_002a_003b-_002aload_002dtruename_002a" accesskey="8">*load-pathname*; *load-truename*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002acompile_002dprint_002a_003b-_002acompile_002dverbose_002a" accesskey="9">*compile-print*; *compile-verbose*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002aload_002dprint_002a_003b-_002aload_002dverbose_002a">*load-print*; *load-verbose*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t_002amodules_002a">*modules*</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#provide_003b-require">provide; require</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="System-Construction-Concepts"></span><div class="header">
<p>
Next: <a href="#compile_002dfile" accesskey="n" rel="next">compile-file</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="System-Construction-Concepts-1"></span><h3 class="section">24.1 System Construction Concepts</h3>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Loading" accesskey="1">Loading</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Features" accesskey="2">Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>
<hr>
<span id="Loading"></span><div class="header">
<p>
Next: <a href="#Features" accesskey="n" rel="next">Features</a>, Up: <a href="#System-Construction-Concepts" accesskey="u" rel="up">System Construction Concepts</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Loading-1"></span><h4 class="subsection">24.1.1 Loading</h4>

<p>To <code>load</code> a <i>file</i> is to treat its contents as <i>code</i>
and <i>execute</i> that <i>code</i>.
The <i>file</i> may contain <span id="index-source-code"></span>
<em>source code</em> or <span id="index-compiled-code-1"></span>
<em>compiled code</em>.
</p>
<p>A <i>file</i> containing <i>source code</i> is called a <span id="index-source-file"></span>
<em>source file</em>.
<i>Loading</i> a <i>source file</i> is accomplished essentially 
by sequentially <i>reading</i><sub>2</sub>
<i>evaluating</i> each immediately after it is <i>read</i>.
</p>
<p>A <i>file</i> containing <i>compiled code</i> is called a <span id="index-compiled-file"></span>
<em>compiled file</em>.
<i>Loading</i> a <i>compiled file</i> is similar to <i>loading</i> a <i>source file</i>,
except that the <i>file</i> does not contain text but rather an
<i>implementation-dependent</i> representation of pre-digested <i>expressions</i>
created by the <i>compiler</i>.  Often, a <i>compiled file</i> can be <i>loaded</i>
more quickly than a <i>source file</i>.
See <a href="Evaluation-and-Compilation.html#Compilation">Section 3.2 (Compilation)</a>.
</p>
<p>The way in which a <i>source file</i> is distinguished from a <i>compiled file</i> 
is <i>implementation-dependent</i>.
</p>

<hr>
<span id="Features"></span><div class="header">
<p>
Previous: <a href="#Loading" accesskey="p" rel="prev">Loading</a>, Up: <a href="#System-Construction-Concepts" accesskey="u" rel="up">System Construction Concepts</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Features-1"></span><h4 class="subsection">24.1.2 Features</h4>

<p>A <span id="index-feature"></span>
<em>feature</em> is an aspect or attribute
of <span class="roman">Common Lisp</span>, 
of the <i>implementation</i>,
or of the <i>environment</i>.
A <i>feature</i> is identified by a <i>symbol</i>.
</p>
<p>A <i>feature</i> is said to be <span id="index-present-1"></span>
<em>present</em> in a <i>Lisp image</i>
if and only if the <i>symbol</i> naming it is an <i>element</i> of the
<i>list</i> held by the <i>variable</i> <code>*features*</code>, 
which is called the <span id="index-features-list"></span>
<em>features list</em>.
</p>
<span id="Feature-Expressions"></span><h4 class="subsubsection">24.1.2.1 Feature Expressions</h4>
<span id="FeatureExpressions"></span>
<p>Boolean combinations of <i>features</i>, called 
<span id="index-feature-expression"></span>
<em>feature expressions</em>,
are used by the <code>#+</code> and <code>#-</code> <i>reader macros</i> in order to
direct conditional <i>reading</i> of <i>expressions</i> by the <i>Lisp reader</i>.
</p>
<p>The rules for interpreting a <i>feature expression</i> are as follows:
</p>

<dl compact="compact">
<dt><i>feature</i></dt>
<dd>

<p>If a <i>symbol</i> naming a <i>feature</i> is used as a <i>feature expression</i>,
the <i>feature expression</i> succeeds if that <i>feature</i> is <i>present</i>;
otherwise it fails.
</p>
</dd>
<dt><code>(not <var>feature-conditional</var>)</code></dt>
<dd>

<p>A <tt>not</tt> <i>feature expression</i> succeeds 
if its argument <var>feature-conditional</var> fails;
otherwise, it succeeds.
</p>
</dd>
<dt><code>(and <tt>{</tt>feature-conditional<tt>}</tt>*)</code></dt>
<dd>

<p>An <tt>and</tt> <i>feature expression</i> succeeds 
if all of its argument <var>feature-conditionals</var> succeed;
otherwise, it fails.
</p>
</dd>
<dt><code>(or <tt>{</tt>feature-conditional<tt>}</tt>*)</code></dt>
<dd>

<p>An <tt>or</tt> <i>feature expression</i> succeeds 
if any of its argument <var>feature-conditionals</var> succeed;
otherwise, it fails.
</p></dd>
</dl>


<span id="g_t24_002e1_002e2_002e1_002e1-Examples-of-Feature-Expressions"></span><h4 class="unnumberedsubsubsec">24.1.2.1.1 Examples of Feature Expressions</h4>

<span id="FeatureExpExamples"></span><p>For example, suppose that
in <i>implementation</i> A, the <i>features</i> <code>spice</code> and <code>perq</code> are <i>present</i>,
but the <i>feature</i> <code>lispm</code> is not <i>present</i>;
in <i>implementation</i> B, the feature <code>lispm</code> is <i>present</i>,
but the <i>features</i> <code>spice</code> and <code>perq</code> are
not <i>present</i>;
and 
in <i>implementation</i> C, none of the features <code>spice</code>, <i>lispm</i>, or <code>perq</code> are
<i>present</i>.
The next figure&nbsp;<!-- /@w -->shows some sample <i>expressions</i>, and how they would be 
<i>read</i><sub>2</sub>
</p>

<div class="float"><span id="fig24_002e1"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td><code>(cons #+spice &quot;Spice&quot; #-spice &quot;Lispm&quot; x)</code></td><td></td></tr>
<tr><td>in <i>implementation</i> A &hellip;</td><td><code>(CONS &quot;Spice&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> B &hellip;</td><td><code>(CONS &quot;Lispm&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> C &hellip;</td><td><code>(CONS &quot;Lispm&quot; X)</code></td></tr>
<tr><td><code>(cons #+spice &quot;Spice&quot; #+LispM &quot;Lispm&quot; x)</code></td><td></td></tr>
<tr><td>in <i>implementation</i> A &hellip;</td><td><code>(CONS &quot;Spice&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> B &hellip;</td><td><code>(CONS &quot;Lispm&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> C &hellip;</td><td><code>(CONS X)</code></td></tr>
<tr><td><code>(setq a '(1 2 #+perq 43 #+(not perq) 27))</code></td><td></td></tr>
<tr><td>in <i>implementation</i> A &hellip;</td><td><code>(SETQ A '(1 2 43))</code></td></tr>
<tr><td>in <i>implementation</i> B &hellip;</td><td><code>(SETQ A '(1 2 27))</code></td></tr>
<tr><td>in <i>implementation</i> C &hellip;</td><td><code>(SETQ A '(1 2 27))</code></td></tr>
<tr><td><code>(let ((a 3) #+(or spice lispm) (b 3)) (foo a))</code></td><td></td></tr>
<tr><td>in <i>implementation</i> A &hellip;</td><td><code>(LET ((A 3) (B 3)) (FOO A))</code></td></tr>
<tr><td>in <i>implementation</i> B &hellip;</td><td><code>(LET ((A 3) (B 3)) (FOO A))</code></td></tr>
<tr><td>in <i>implementation</i> C &hellip;</td><td><code>(LET ((A 3)) (FOO A))</code></td></tr>
<tr><td><code>(cons #+Lispm &quot;#+Spice&quot; #+Spice &quot;foo&quot; #-(or Lispm Spice) 7 x)</code></td><td></td></tr>
<tr><td>in <i>implementation</i> A &hellip;</td><td><code>(CONS &quot;foo&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> B &hellip;</td><td><code>(CONS &quot;#+Spice&quot; X)</code></td></tr>
<tr><td>in <i>implementation</i> C &hellip;</td><td><code>(CONS 7 X)</code></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 24.1: </strong>Features examples</p></div></div>



<hr>
<span id="compile_002dfile"></span><div class="header">
<p>
Next: <a href="#compile_002dfile_002dpathname" accesskey="n" rel="next">compile-file-pathname</a>, Previous: <a href="#System-Construction-Concepts" accesskey="p" rel="prev">System Construction Concepts</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">compile-file</h4>
<span id="compile_002dfile-_0028Function_0029"></span><h3 class="heading">compile-file (Function)</h3>
<span id="index-compile_002dfile-3"></span>
<span id="index-compile_002dfile-1"></span>


<span id="Syntax_003a-496"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-compile_002dfile-2">Function: <strong>compile-file</strong> <em>input-file <tt>&amp;key</tt> <span class="nolinebreak">output-file</span>&nbsp;verbose<!-- /@w --> print&nbsp;<span class="nolinebreak">external-format</span><!-- /@w --> <span class="roman">→</span> output-truename, warnings-p, failure-p</em></dt>
</dl>

<span id="Arguments-and-Values_003a-482"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>input-file</var>&mdash;a <i>pathname designator</i>.
(Default fillers for unspecified components are taken from
<code>*default-pathname-defaults*</code>.)
</p>
<p><var>output-file</var>&mdash;a <i>pathname designator</i>.
The default is <i>implementation-defined</i>.
</p>
<p><var>verbose</var>&mdash;a <i>generalized boolean</i>.
The default is the <i>value</i> of <code>*compile-verbose*</code>.
</p>
<p><var>print</var>&mdash;a <i>generalized boolean</i>.
The default is the <i>value</i> of <code>*compile-print*</code>.
</p>

<p><var>external-format</var>&mdash;an <i>external file format designator</i>.
The default is <tt>:default</tt>.
</p>
<p><var>output-truename</var>&mdash;a <i>pathname</i> (the <code>truename</code> of the output <i>file</i>),
or <code>nil</code>.
</p>
<p><var>warnings-p</var>&mdash;a <i>generalized boolean</i>.
</p>
<p><var>failure-p</var>&mdash;a <i>generalized boolean</i>.
</p>


<span id="Description_003a-638"></span><h4 class="subsubheading">Description:</h4>

<p><code>compile-file</code> transforms the contents of the file specified 
by <var>input-file</var> into <i>implementation-dependent</i> binary data 
which are placed in the file specified by <var>output-file</var>.
</p>
<p>The <i>file</i> to which <var>input-file</var> refers should be a <i>source file</i>.
<var>output-file</var> can be used to specify an output <i>pathname</i>;
the actual <i>pathname</i> of the <i>compiled file</i> 
to which <i>compiled code</i> will be output 
is computed as if by calling <code>compile-file-pathname</code>.
</p>
<p>If <var>input-file</var> or <var>output-file</var> is a <i>logical pathname</i>,
it is translated into a <i>physical pathname</i> as if by calling
<code>translate-logical-pathname</code>.
</p>
<p>If <var>verbose</var> is <i>true</i>,
<code>compile-file</code> prints a message in the form of a comment
(<i>i.e.</i>, with a leading <i>semicolon</i>)
to <i>standard output</i> indicating what <i>file</i> is being <i>compiled</i>
and other useful information.
If <var>verbose</var> is <i>false</i>,
<code>compile-file</code> does not print 
this information.
</p>
<p>If <var>print</var> is <i>true</i>,
information about <i>top level forms</i> in the file being
compiled is printed to <i>standard output</i>.
Exactly what is printed is <i>implementation-dependent</i>, 
but nevertheless some information is printed.
If <var>print</var> is <code>nil</code>, no information is printed.
</p>
<p>The <var>external-format</var> specifies the <i>external file format</i> 
to be used when opening the <i>file</i>; see the <i>function</i> <a href="Streams.html#open">open</a>.
<code>compile-file</code> and <code>load</code> must cooperate in such a way that
the resulting <i>compiled file</i> can be <i>loaded</i>
without specifying an <i>external file format</i> anew; see the <i>function</i> <a href="#load">load</a>.
</p>
<p><code>compile-file</code> binds <code>*readtable*</code> and <code>*package*</code>
to the values they held before processing the file.
</p>
<p><code>*compile-file-truename*</code> is bound by <code>compile-file</code> 
to hold the <i>truename</i> of the <i>pathname</i> of the file being compiled.
</p>
<p><code>*compile-file-pathname*</code> is bound by <code>compile-file</code>
to hold a <i>pathname</i> denoted by the first argument to <code>compile-file</code>,
merged against the defaults;
that is, <code>(pathname (merge-pathnames <var>input-file</var>))</code>.
</p>
<p>The compiled <i>functions</i> contained in the <i>compiled file</i> become available
for use when the <i>compiled file</i> is <i>loaded</i> into Lisp.
Any function definition that is processed by the
compiler, including <code>#'(lambda ...)</code> forms and local function
definitions made by <code>flet</code>, <code>labels</code> and <code>defun</code> forms, 
result in an <i>object</i> of <i>type</i> <code>compiled-function</code>.  
</p>
<p>The <i>primary value</i> returned by <code>compile-file</code>, <var>output-truename</var>,
is the <code>truename</code> of the output file, or <code>nil</code>&nbsp;<!-- /@w -->if the file could not be created.  
</p>
<p>The <i>secondary value</i>, <var>warnings-p</var>, is <i>false</i>
if no <i>conditions</i> of <i>type</i> <code>error</code> or <code>warning</code>
were detected by the compiler, and <i>true</i> otherwise.
</p>
<p>The <i>tertiary value</i>, <var>failure-p</var>, is <i>false</i>
if no <i>conditions</i> of <i>type</i> <code>error</code> or <code>warning</code>
(other than <code>style-warning</code>)
were detected by the compiler, and <i>true</i> otherwise.
</p>
<p>For general information about how <i>files</i> are processed by the <i>file compiler</i>,
see <a href="Evaluation-and-Compilation.html#File-Compilation">Section 3.2.3 (File Compilation)</a>.
</p>

<p><i>Programs</i> to be compiled by the <i>file compiler</i> must only contain
<i>externalizable objects</i>; for details on such <i>objects</i>,
see <a href="Evaluation-and-Compilation.html#Literal-Objects-in-Compiled-Files">Section 3.2.4 (Literal Objects in Compiled Files)</a>.
For information on how to extend the set of <i>externalizable objects</i>,
see the <i>function</i> <a href="Objects.html#make_002dload_002dform">make-load-form</a> and <a href="Evaluation-and-Compilation.html#CallingMakeLoadForm">Section 3.2.4.4 (Additional Constraints on Externalizable Objects)</a>.
</p>
<span id="Affected-By_003a-113"></span><h4 class="subsubheading">Affected By:</h4>
<p><code>*error-output*</code>,
<code>*standard-output*</code>, <code>*compile-verbose*</code>, <code>*compile-print*</code>
</p>
<p>The computer&rsquo;s file system.
</p><span id="Exceptional-Situations_003a-233"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>For information about errors detected during the compilation process, 
see <a href="Evaluation-and-Compilation.html#Exceptional-Situations-in-the-Compiler">Section 3.2.5 (Exceptional Situations in the Compiler)</a>.
</p>
<p>An error of <i>type</i> <code>file-error</code> might be signaled if
<code>(wild-pathname-p <var>input-file</var>)</code> returns true.
</p>
<p>If either the attempt to open the <i>source file</i> for input
or the attempt to open the <i>compiled file</i> for output
fails,
an error of <i>type</i> <code>file-error</code> is signaled.
</p>
<span id="See-Also_003a-518"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Evaluation-and-Compilation.html#compile">compile</a>,
<a href="Evaluation-and-Compilation.html#declare">declare</a>,
<a href="Evaluation-and-Compilation.html#eval_002dwhen">eval-when</a>,
<a href="Filenames.html#pathname-_0028System-Class_0029">pathname (System Class)</a>,
<a href="Filenames.html#logical_002dpathname-_0028System-Class_0029">logical-pathname (System Class)</a>,
<a href="Files.html#File-System-Concepts">Section 20.1 (File System Concepts)</a>,
<a href="Filenames.html#Pathnames-as-Filenames">Section 19.1.2 (Pathnames as Filenames)</a>
</p>


<hr>
<span id="compile_002dfile_002dpathname"></span><div class="header">
<p>
Next: <a href="#load" accesskey="n" rel="next">load</a>, Previous: <a href="#compile_002dfile" accesskey="p" rel="prev">compile-file</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">compile-file-pathname</h4>
<span id="compile_002dfile_002dpathname-_0028Function_0029"></span><h3 class="heading">compile-file-pathname (Function)</h3>
<span id="index-compile_002dfile_002dpathname-2"></span>
<span id="index-compile_002dfile_002dpathname"></span>



<span id="Syntax_003a-497"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-compile_002dfile_002dpathname-1">Function: <strong>compile-file-pathname</strong> <em>input-file <tt>&amp;key</tt> output-file <tt>&amp;allow-other-keys</tt> <span class="roman">→</span> pathname</em></dt>
</dl>

<span id="Arguments-and-Values_003a-483"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>input-file</var>&mdash;a <i>pathname designator</i>.
(Default fillers for unspecified components are taken from
<code>*default-pathname-defaults*</code>.)
</p>
<p><var>output-file</var>&mdash;a <i>pathname designator</i>.
The default is <i>implementation-defined</i>.
</p>
<p><var>pathname</var>&mdash;a <i>pathname</i>.
</p>
<span id="Description_003a-639"></span><h4 class="subsubheading">Description:</h4>

<p>Returns the <i>pathname</i> that <code>compile-file</code> would write into,
if given the same arguments.
</p>
<p>The defaults for the <var>output-file</var> 
are taken from the <i>pathname</i> 
that results from merging the <var>input-file</var> 
with the <i>value</i> of <code>*default-pathname-defaults*</code>,
except that the type component 
should default to the appropriate
<i>implementation-defined</i> default type for <i>compiled files</i>.
</p>
<p>If <var>input-file</var> is a <i>logical pathname</i> and <var>output-file</var> 
is unsupplied, the result is a <i>logical pathname</i>.
If <var>input-file</var> is a <i>logical pathname</i>, 
it is translated into a physical pathname as if by calling 
<code>translate-logical-pathname</code>.
If <var>input-file</var> is a <i>stream</i>, 
the <i>stream</i> can be either open or closed.
<code>compile-file-pathname</code> returns the same <i>pathname</i> after a
file is closed as it did when the file was open.
It is an error if <var>input-file</var> is a <i>stream</i> that is 
created with <code>make-two-way-stream</code>, <code>make-echo-stream</code>,             
<code>make-broadcast-stream</code>, <code>make-concatenated-stream</code>,
<code>make-string-input-stream</code>, <code>make-string-output-stream</code>.
</p>
<p>If an implementation supports additional keyword arguments to <code>compile-file</code>, 
<code>compile-file-pathname</code> must accept the same arguments.
</p>
<span id="Examples_003a-457"></span><h4 class="subsubheading">Examples:</h4>

<p>See <code>logical-pathname-translations</code>.
</p>
<span id="Exceptional-Situations_003a-234"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>An error of <i>type</i> <code>file-error</code> might be signaled if either <var>input-file</var> or
<var>output-file</var> is <i>wild</i>.
</p>
<span id="See-Also_003a-519"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#compile_002dfile">compile-file</a>,
<a href="Filenames.html#pathname-_0028System-Class_0029">pathname (System Class)</a>,
<a href="Filenames.html#logical_002dpathname-_0028System-Class_0029">logical-pathname (System Class)</a>,
<a href="Files.html#File-System-Concepts">Section 20.1 (File System Concepts)</a>,
<a href="Filenames.html#Pathnames-as-Filenames">Section 19.1.2 (Pathnames as Filenames)</a>
</p>



<hr>
<span id="load"></span><div class="header">
<p>
Next: <a href="#with_002dcompilation_002dunit" accesskey="n" rel="next">with-compilation-unit</a>, Previous: <a href="#compile_002dfile_002dpathname" accesskey="p" rel="prev">compile-file-pathname</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">load</h4>
<span id="load-_0028Function_0029"></span><h3 class="heading">load (Function)</h3>
<span id="index-load-3"></span>
<span id="index-load-1"></span>


<span id="Syntax_003a-498"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-load-2">Function: <strong>load</strong> <em>filespec <tt>&amp;key</tt> verbose&nbsp;print<!-- /@w --> <span class="nolinebreak">if-does-not-exist</span>&nbsp;<span class="nolinebreak">external-format</span><!-- /@w --> <span class="roman">→</span> generalized-boolean</em></dt>
</dl>

<span id="Arguments-and-Values_003a-484"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>filespec</var>&mdash;a <i>stream</i>, or a <i>pathname designator</i>.
The default is taken from <code>*default-pathname-defaults*</code>.
</p>
<p><var>verbose</var>&mdash;a <i>generalized boolean</i>.
The default is the <i>value</i> of <code>*load-verbose*</code>.
</p>
<p><var>print</var>&mdash;a <i>generalized boolean</i>.
The default is the <i>value</i> of <code>*load-print*</code>.
</p>
<p><var>if-does-not-exist</var>&mdash;a <i>generalized boolean</i>.
The default is <i>true</i>.
</p>
<p><var>external-format</var>&mdash;an <i>external file format designator</i>.
The default is <tt>:default</tt>.
</p>
<p><var>generalized-boolean</var>&mdash;a <i>generalized boolean</i>.
</p>
<span id="Description_003a-640"></span><h4 class="subsubheading">Description:</h4>

<p><code>load</code> <i>loads</i> the <i>file</i> named by <var>filespec</var>
into the <span class="roman">Lisp</span>&nbsp;<!-- /@w -->environment.
</p>
<p>The manner in which a <i>source file</i>
is distinguished from a <i>compiled file</i> is <i>implementation-dependent</i>.
If the file specification is not complete and both a <i>source file</i> and a 
<i>compiled file</i> exist which might match,
then which of those files <code>load</code> selects is <i>implementation-dependent</i>.
</p>
<p>If <var>filespec</var> is a <i>stream</i>,
<code>load</code> determines what kind of <i>stream</i> it is 
and loads directly from the <i>stream</i>.
If <var>filespec</var> is a <i>logical pathname</i>,
it is translated into a <i>physical pathname</i>
as if by calling <code>translate-logical-pathname</code>.
</p>
<p><code>load</code> sequentially executes each <i>form</i> it encounters
in the <i>file</i> named by <var>filespec</var>.
If the <i>file</i> is a <i>source file</i>
and the <i>implementation</i> chooses to perform <i>implicit compilation</i>,
<code>load</code> must recognize <i>top level forms</i> 
as described in <a href="Evaluation-and-Compilation.html#TopLevelForms">Section 3.2.3.1 (Processing of Top Level Forms)</a>
and arrange for each <i>top level form</i> to be executed 
before beginning <i>implicit compilation</i> of the next.
(Note, however, that processing of <code>eval-when</code> <i>forms</i>
by <code>load</code> is controlled by the <tt>:execute</tt> situation.)
</p>
<p>If <var>verbose</var> is <i>true</i>,
<code>load</code> prints a message in the form of a comment
(<i>i.e.</i>, with a leading <i>semicolon</i>)
to <i>standard output</i> indicating what <i>file</i> is being <i>loaded</i>
and other useful information.
If <var>verbose</var> is <i>false</i>, 
<code>load</code> does not print this information.
</p>
<p>If <var>print</var> is <i>true</i>,
<code>load</code> incrementally prints information to <i>standard output</i>
showing the progress of the <i>loading</i> process.
For a <i>source file</i>,
this information might mean printing the <i>values</i> 
<i>yielded</i> by each <i>form</i> in the <i>file</i>
as soon as those <i>values</i> are returned.
For a <i>compiled file</i>, 
what is printed might not reflect precisely the contents of the <i>source file</i>,
but some information is generally printed.
If <var>print</var> is <i>false</i>,
<code>load</code> does not print this information.
</p>
<p>If the file named by <var>filespec</var> is successfully loaded,
<code>load</code> returns <i>true</i>.
</p>
 

<p>If the file does not exist, 
the specific action taken depends on <var>if-does-not-exist</var>:
if it is <code>nil</code>, <code>load</code> returns <code>nil</code>;
otherwise, <code>load</code> signals an error.
</p>
<p>The <var>external-format</var> specifies the <i>external file format</i> 
to be used when opening the <i>file</i> (see the <i>function</i> <a href="Streams.html#open">open</a>),
except that when the <i>file</i> named by <var>filespec</var> is a <i>compiled file</i>,
the <var>external-format</var> is ignored.
<code>compile-file</code> and <code>load</code> cooperate 
in an <i>implementation-dependent</i> way to assure 
the preservation of the <i>similarity</i> of <i>characters</i> 
referred to in the <i>source file</i> 
at the time the <i>source file</i> was processed by the <i>file compiler</i> 
under a given <i>external file format</i>,
regardless of the value of <var>external-format</var> 
at the time the <i>compiled file</i> is <i>loaded</i>.
</p>
<p><code>load</code> binds <code>*readtable*</code> and <code>*package*</code>
to the values they held before <i>loading</i> the file.
</p>
<p><code>*load-truename*</code> is <i>bound</i> by <code>load</code> to hold 
the <i>truename</i> of the <i>pathname</i> of the file being <i>loaded</i>.
</p>
<p><code>*load-pathname*</code> is <i>bound</i> by <code>load</code> to hold 
a <i>pathname</i> that represents <var>filespec</var> merged against the defaults.
That is, <code>(pathname (merge-pathnames <var>filespec</var>))</code>.
</p>
<span id="Examples_003a-458"></span><h4 class="subsubheading">Examples:</h4>

<div class="lisp">
<pre class="lisp">;Establish a data file...
 (with-open-file (str &quot;data.in&quot; :direction :output :if-exists :error)
   (print 1 str) (print '(setq a 888) str) t)
<span class="roman">→</span> T
 (load &quot;data.in&quot;) <span class="roman">→</span> <i>true</i>
 a <span class="roman">→</span> 888
 (load (setq p (merge-pathnames &quot;data.in&quot;)) :verbose t)
; Loading contents of file /fred/data.in
; Finished loading /fred/data.in
<span class="roman">→</span> <i>true</i>
 (load p :print t) 
; Loading contents of file /fred/data.in
;  1
;  888
; Finished loading /fred/data.in
<span class="roman">→</span> <i>true</i>
</pre></div>


<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="lisp">
<pre class="lisp"> ;----[Begin file SETUP]----
 (in-package &quot;MY-STUFF&quot;)
 (defmacro compile-truename () `',*compile-file-truename*)
 (defvar *my-compile-truename* (compile-truename) &quot;Just for debugging.&quot;)
 (defvar *my-load-pathname* *load-pathname*)
 (defun load-my-system ()
   (dolist (module-name '(&quot;FOO&quot; &quot;BAR&quot; &quot;BAZ&quot;))
     (load (merge-pathnames module-name *my-load-pathname*))))
 ;----[End of file SETUP]----

 
 (load &quot;SETUP&quot;)
 (load-my-system)
</pre></div>


<span id="Affected-By_003a-114"></span><h4 class="subsubheading">Affected By:</h4>

<p>The implementation, and the host computer&rsquo;s file system.
</p>
<span id="Exceptional-Situations_003a-235"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>If <tt>:if-does-not-exist</tt> is supplied and is <i>true</i>, or is not supplied,
<code>load</code> signals an error of <i>type</i> <code>file-error</code> if the file named by
<var>filespec</var> does not exist,
or if the <i>file system</i> cannot perform the requested operation.
</p>
<p>An error of <i>type</i> <code>file-error</code> might be signaled if
<code>(wild-pathname-p <var>filespec</var>)</code> returns <i>true</i>.
</p>
<span id="See-Also_003a-520"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Conditions.html#error-_0028Function_0029">error (Function)</a>,
<a href="Filenames.html#merge_002dpathnames">merge-pathnames</a>,
<a href="#g_t_002aload_002dverbose_002a">*load-verbose*</a>,
<a href="Filenames.html#g_t_002adefault_002dpathname_002ddefaults_002a">*default-pathname-defaults*</a>,
<a href="Filenames.html#pathname-_0028System-Class_0029">pathname (System Class)</a>,
<a href="Filenames.html#logical_002dpathname-_0028System-Class_0029">logical-pathname (System Class)</a>,
<a href="Files.html#File-System-Concepts">Section 20.1 (File System Concepts)</a>,
<a href="Filenames.html#Pathnames-as-Filenames">Section 19.1.2 (Pathnames as Filenames)</a>
</p>


<hr>
<span id="with_002dcompilation_002dunit"></span><div class="header">
<p>
Next: <a href="#g_t_002afeatures_002a" accesskey="n" rel="next">*features*</a>, Previous: <a href="#load" accesskey="p" rel="prev">load</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">with-compilation-unit</h4>
<span id="with_002dcompilation_002dunit-_0028Macro_0029"></span><h3 class="heading">with-compilation-unit (Macro)</h3>
<span id="index-with_002dcompilation_002dunit-2"></span>
<span id="index-with_002dcompilation_002dunit"></span>



<span id="Syntax_003a-499"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-with_002dcompilation_002dunit-1">Macro: <strong>with-compilation-unit</strong> <em><tt>(</tt>〚<tt>↓</tt>option〛<tt>)</tt> <tt>{</tt>form<tt>}</tt>* <span class="roman">→</span> <tt>{</tt>result<tt>}</tt>*</em></dt>
</dl>

<dl compact="compact">
<dt><var>option</var>::=</dt>
<dd><p><tt>:override</tt> override
</p></dd>
</dl>

<span id="Arguments-and-Values_003a-485"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>override</var>&mdash;a <i>generalized boolean</i>; evaluated.
The default is <code>nil</code>.
</p>
<p><var>forms</var>&mdash;an <i>implicit progn</i>.
</p>
<p><var>results</var>&mdash;the <i>values</i> returned by the <i>forms</i>.
</p>
<span id="Description_003a-641"></span><h4 class="subsubheading">Description:</h4>

<p>Executes <var>forms</var> from left to right.
Within the <i>dynamic environment</i> of <code>with-compilation-unit</code>,
actions deferred by the compiler until the end of compilation will be
deferred until the end of the outermost call to <code>with-compilation-unit</code>.
</p>
<p>The set of <i>options</i> permitted may be extended by the implementation,
but the only <i>standardized</i> keyword is <tt>:override</tt>.
</p>
<p>If nested dynamically only the outer call to 
<code>with-compilation-unit</code> has any effect unless the value
associated with <tt>:override</tt> is <i>true</i>, in which case warnings are
deferred only to the end of the innermost call for which <var>override</var> is <i>true</i>.
</p>
<p>The function <code>compile-file</code> 
provides the effect of 
</p>
<div class="lisp">
<pre class="lisp"> (with-compilation-unit (:override nil) ...)
</pre></div>

<p>around its <i>code</i>.
</p>
<p>Any <i>implementation-dependent</i> extensions can only be provided as the
result of an explicit programmer request by use of an
<i>implementation-dependent</i> keyword.  <i>Implementations</i> are forbidden
from attaching additional meaning to a use of this macro which involves either
no keywords or just the keyword <tt>:override</tt>.
</p>
<span id="Examples_003a-459"></span><h4 class="subsubheading">Examples:</h4>

<p>If an <i>implementation</i> would normally defer certain kinds of warnings,
such as warnings about undefined functions, to the end of a compilation
unit (such as a <i>file</i>), the following example shows how to cause those
warnings to be deferred to the end of the compilation of several files.
</p>
<div class="lisp">
<pre class="lisp"> (defun compile-files (&amp;rest files)
   (with-compilation-unit ()
     (mapcar #'(lambda (file) (compile-file file)) files)))

 (compile-files &quot;A&quot; &quot;B&quot; &quot;C&quot;)
</pre></div>


<p>Note however that if the implementation does not normally defer any warnings,
use of <i>with-compilation-unit</i> might not have any effect.
</p>
<span id="See-Also_003a-521"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Evaluation-and-Compilation.html#compile">compile</a>, <a href="#compile_002dfile">compile-file</a>
</p>


<hr>
<span id="g_t_002afeatures_002a"></span><div class="header">
<p>
Next: <a href="#g_t_002acompile_002dfile_002dpathname_002a_003b-_002acompile_002dfile_002dtruename_002a" accesskey="n" rel="next">*compile-file-pathname*; *compile-file-truename*</a>, Previous: <a href="#with_002dcompilation_002dunit" accesskey="p" rel="prev">with-compilation-unit</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*features*</h4>
<span id="g_t_002afeatures_002a-_0028Variable_0029"></span><h3 class="heading">*features* (Variable)</h3>
<span id="index-_002afeatures_002a-4"></span>
<span id="index-_002afeatures_002a-3"></span>


<span id="Value-Type_003a-27"></span><h4 class="subsubheading">Value Type:</h4>

<p>a <i>proper list</i>.
</p>
<span id="Initial-Value_003a-27"></span><h4 class="subsubheading">Initial Value:</h4>

<p><i>implementation-dependent</i>.
</p>
<span id="Description_003a-642"></span><h4 class="subsubheading">Description:</h4>

<p>The <i>value</i> of <code>*features*</code> is called the <i>features list</i>.  
It is a <i>list</i> of <i>symbols</i>, called <i>features</i>, 
that correspond to some aspect of the <i>implementation</i> or <i>environment</i>.
</p>
<p>Most <i>features</i> have <i>implementation-dependent</i> meanings;
The following meanings have been assigned to feature names:
</p>

<dl compact="compact">
<dt><tt>:cltl1</tt></dt>
<dd>

<p>If present, indicates that the <code>LISP</code> <i>package</i> <i>purports to conform</i>
to the 1984 specification <cite>Common Lisp: The Language</cite>.  
It is possible, but not required, for a <i>conforming implementation</i> 
to have this feature because this specification specifies that 
its <i>symbols</i> are to be in the <code>COMMON-LISP</code> <i>package</i>, 
not the <code>LISP</code> package.
</p>
</dd>
<dt><tt>:cltl2</tt></dt>
<dd>

<p>If present, indicates that the implementation <i>purports to conform</i>
to <cite><a href="http://www-2.cs.cmu.edu/Groups/AI/html/cltl/cltl2.html">Common Lisp: The Language Second Edition</a></cite>.
This feature must not be present in any <i>conforming implementation</i>,
since conformance to that document is not compatible with conformance
to this specification.
The name, however, is reserved by this specification in order to help
programs distinguish implementations which conform to that document
from implementations which conform to this specification.
</p>
</dd>
<dt><tt>:ieee-floating-point</tt></dt>
<dd>

<p>If present, indicates that the implementation <i>purports to conform</i>
to the requirements of <cite>IEEE Standard for Binary Floating-Point Arithmetic</cite>.
</p>
</dd>
<dt><tt>:x3j13</tt></dt>
<dd>

<p>If present, indicates that the implementation conforms to some
particular working draft of this specification, 
or to some subset of features that approximates a belief about
what this specification might turn out to contain.
A <i>conforming implementation</i> might or might not contain
such a feature.
(This feature is intended primarily as a stopgap in order to 
provide implementors something to use prior to the availability
of a draft standard, in order to discourage them from introducing
the <tt>:draft-ansi-cl</tt> and <tt>:ansi-cl</tt> <i>features</i> prematurely.)
</p>
</dd>
<dt><tt>:draft-ansi-cl</tt></dt>
<dd>

<p>If present, indicates that the <i>implementation</i> 
<i>purports to conform</i> to the first full draft of this specification,
which went to public review in 1992.
A <i>conforming implementation</i>
which has the <tt>:draft-ansi-cl-2</tt> or <tt>:ansi-cl</tt> <i>feature</i>
is not permitted to retain the <tt>:draft-ansi-cl</tt> <i>feature</i>
since incompatible changes were made subsequent to the first draft.
</p>
</dd>
<dt><tt>:draft-ansi-cl-2</tt></dt>
<dd>

<p>If present, indicates that a second full draft of this specification
has gone to public review, and that the <i>implementation</i> 
<i>purports to conform</i> to that specification.
(If additional public review drafts are produced, this keyword
will continue to refer to the second draft, and additional keywords
will be added to identify conformance with such later drafts.
As such, the meaning of this keyword can be relied upon not to
change over time.)
A <i>conforming implementation</i> which has the <tt>:ansi-cl</tt>
<i>feature</i> is only permitted to retain the <tt>:draft-ansi-cl</tt> 
<i>feature</i> if the finally approved standard is not incompatible
with the draft standard.
</p>
</dd>
<dt><tt>:ansi-cl</tt></dt>
<dd>

<p>If present, indicates that this specification has been adopted by ANSI
as an official standard, and that the <i>implementation</i> 
<i>purports to conform</i>.
</p>
</dd>
<dt><tt>:common-lisp</tt></dt>
<dd>

<p>This feature must appear in <code>*features*</code> for any implementation that
has one or more of the features <tt>:x3j13</tt>, <tt>:draft-ansi-cl</tt>,
or <tt>:ansi-cl</tt>.  It is intended that it should also appear in
implementations which have the features <tt>:cltl1</tt> or <tt>:cltl2</tt>,
but this specification cannot force such behavior.  The intent is 
that this feature should identify the language family named &ldquo;Common Lisp,&rdquo;
rather than some specific dialect within that family.
</p></dd>
</dl>


<span id="See-Also_003a-522"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="Introduction.html#ReadTimeConditionals">Section 1.5.2.1.1 (Use of Read-Time Conditionals)</a>,
<a href="Syntax.html#Standard-Macro-Characters">Section 2.4 (Standard Macro Characters)</a>
</p>
<span id="Notes_003a-322"></span><h4 class="subsubheading">Notes:</h4>

<p>The <i>value</i> of <code>*features*</code> is used by the <code>#+</code> and <code>#-</code> reader syntax.
</p>
<p><i>Symbols</i> in the <i>features list</i> may be in any <i>package</i>,
but in practice they are generally in the <code>KEYWORD</code> <i>package</i>.
This is because <code>KEYWORD</code> is the <i>package</i> used by default
when <i>reading</i><sub>2</sub>
in the <code>#+</code> and <code>#-</code> <i>reader macros</i>.
<i>Code</i> that needs to name a <i>feature</i><sub>2</sub>
<i>package</i> P (other than <code>KEYWORD</code>) can do so
by making explicit use of a <i>package prefix</i> for P,
but note that such <i>code</i> must also assure that the <i>package</i> P 
exists in order for the <i>feature expression</i> to be <i>read</i><sub>2</sub>
in cases where the <i>feature expression</i> is expected to fail.

It is generally considered wise for an <i>implementation</i> to include 
one or more <i>features</i> identifying the specific <i>implementation</i>,
so that conditional expressions can be written which distinguish 
idiosyncrasies of one <i>implementation</i> from those of another.  
Since features are normally <i>symbols</i> in the <code>KEYWORD</code> <i>package</i>
where name collisions might easily result, and since no uniquely defined mechanism
is designated for deciding who has the right to use which <i>symbol</i> for
what reason, a conservative strategy is to prefer names derived from 
one's own company or product name, since those names are often trademarked
and are hence less likely to be used unwittingly by another <i>implementation</i>.


</p><hr>
<span id="g_t_002acompile_002dfile_002dpathname_002a_003b-_002acompile_002dfile_002dtruename_002a"></span><div class="header">
<p>
Next: <a href="#g_t_002aload_002dpathname_002a_003b-_002aload_002dtruename_002a" accesskey="n" rel="next">*load-pathname*; *load-truename*</a>, Previous: <a href="#g_t_002afeatures_002a" accesskey="p" rel="prev">*features*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*compile-file-pathname*; *compile-file-truename*</h4>
<span id="g_t_002acompile_002dfile_002dpathname_002a_002c-_002acompile_002dfile_002dtruename_002a-_0028Variable_0029"></span><h3 class="heading">*compile-file-pathname*, *compile-file-truename* (Variable)</h3>
<span id="index-_002acompile_002dfile_002dpathname_002a-1"></span>
<span id="index-_002acompile_002dfile_002dpathname_002a"></span>
<span id="index-_002acompile_002dfile_002dtruename_002a-1"></span>
<span id="index-_002acompile_002dfile_002dtruename_002a"></span>



<span id="Value-Type_003a-28"></span><h4 class="subsubheading">Value Type:</h4>

<p>The <i>value</i> of <code>*compile-file-pathname*</code> must always be a <i>pathname</i>          or <code>nil</code>.
The <i>value</i> of <code>*compile-file-truename*</code> must always be a <i>physical pathname</i> or <code>nil</code>.
</p>
<span id="Initial-Value_003a-28"></span><h4 class="subsubheading">Initial Value:</h4>

<p><code>nil</code>.
</p>
<span id="Description_003a-643"></span><h4 class="subsubheading">Description:</h4>

<p>During a call to <code>compile-file</code>,
<code>*compile-file-pathname*</code> is <i>bound</i> to 
the <i>pathname</i> denoted by the first argument to <code>compile-file</code>,
merged against the defaults;
that is, it is <i>bound</i> to <code>(pathname (merge-pathnames <var>input-file</var>))</code>.
During the same time interval,
<code>*compile-file-truename*</code> is <i>bound</i> to
the <i>truename</i> of the <i>file</i> being <i>compiled</i>.
</p>
<p>At other times, the <i>value</i> of these <i>variables</i> is <code>nil</code>.
</p>
<p>If a <i>break loop</i> is entered while <code>compile-file</code> is ongoing,
it is <i>implementation-dependent</i> whether these <i>variables</i> retain 
the <i>values</i> they had just prior to entering the <i>break loop</i> 
or whether they are <i>bound</i> to <code>nil</code>.
</p>
<p>The consequences are unspecified if 
an attempt is made to <i>assign</i> or <i>bind</i> either of these <i>variables</i>.
</p>
<span id="Affected-By_003a-115"></span><h4 class="subsubheading">Affected By:</h4>

<p>The <i>file system</i>.
</p>
<span id="See-Also_003a-523"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#compile_002dfile">compile-file</a>
</p>


<hr>
<span id="g_t_002aload_002dpathname_002a_003b-_002aload_002dtruename_002a"></span><div class="header">
<p>
Next: <a href="#g_t_002acompile_002dprint_002a_003b-_002acompile_002dverbose_002a" accesskey="n" rel="next">*compile-print*; *compile-verbose*</a>, Previous: <a href="#g_t_002acompile_002dfile_002dpathname_002a_003b-_002acompile_002dfile_002dtruename_002a" accesskey="p" rel="prev">*compile-file-pathname*; *compile-file-truename*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*load-pathname*; *load-truename*</h4>
<span id="g_t_002aload_002dpathname_002a_002c-_002aload_002dtruename_002a-_0028Variable_0029"></span><h3 class="heading">*load-pathname*, *load-truename* (Variable)</h3>
<span id="index-_002aload_002dpathname_002a-1"></span>
<span id="index-_002aload_002dpathname_002a"></span>
<span id="index-_002aload_002dtruename_002a-1"></span>
<span id="index-_002aload_002dtruename_002a"></span>


<span id="Value-Type_003a-29"></span><h4 class="subsubheading">Value Type:</h4>

<p>The <i>value</i> of <code>*load-pathname*</code> must always be a <i>pathname</i>          or <code>nil</code>.
The <i>value</i> of <code>*load-truename*</code> must always be a <i>physical pathname</i> or <code>nil</code>.
</p>
<span id="Initial-Value_003a-29"></span><h4 class="subsubheading">Initial Value:</h4>

<p><code>nil</code>.
</p>
<span id="Description_003a-644"></span><h4 class="subsubheading">Description:</h4>

<p>During a call to <code>load</code>,
<code>*load-pathname*</code> is <i>bound</i> to 
the <i>pathname</i> denoted by the the first argument to <code>load</code>,
merged against the defaults; 
that is, it is <i>bound</i> to <code>(pathname (merge-pathnames <var>filespec</var>))</code>.
During the same time interval,
<code>*load-truename*</code> is <i>bound</i> to
the <i>truename</i> of the <i>file</i> being loaded.
</p>
<p>At other times, the <i>value</i> of these <i>variables</i> is <code>nil</code>.
</p>
<p>If a <i>break loop</i> is entered while <code>load</code> is ongoing,
it is <i>implementation-dependent</i> whether these <i>variables</i> retain 
the <i>values</i> they had just prior to entering the <i>break loop</i> 
or whether they are <i>bound</i> to <code>nil</code>.
</p>
<p>The consequences are unspecified if 
an attempt is made to <i>assign</i> or <i>bind</i> either of these <i>variables</i>.
</p>
<span id="Affected-By_003a-116"></span><h4 class="subsubheading">Affected By:</h4>

<p>The <i>file system</i>.
</p>
<span id="See-Also_003a-524"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#load">load</a>
</p>


<hr>
<span id="g_t_002acompile_002dprint_002a_003b-_002acompile_002dverbose_002a"></span><div class="header">
<p>
Next: <a href="#g_t_002aload_002dprint_002a_003b-_002aload_002dverbose_002a" accesskey="n" rel="next">*load-print*; *load-verbose*</a>, Previous: <a href="#g_t_002aload_002dpathname_002a_003b-_002aload_002dtruename_002a" accesskey="p" rel="prev">*load-pathname*; *load-truename*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*compile-print*; *compile-verbose*</h4>
<span id="g_t_002acompile_002dprint_002a_002c-_002acompile_002dverbose_002a-_0028Variable_0029"></span><h3 class="heading">*compile-print*, *compile-verbose* (Variable)</h3>
<span id="index-_002acompile_002dprint_002a-1"></span>
<span id="index-_002acompile_002dprint_002a"></span>
<span id="index-_002acompile_002dverbose_002a-1"></span>
<span id="index-_002acompile_002dverbose_002a"></span>



<span id="Value-Type_003a-30"></span><h4 class="subsubheading">Value Type:</h4>

<p>a <i>generalized boolean</i>.
</p>
<span id="Initial-Value_003a-30"></span><h4 class="subsubheading">Initial Value:</h4>

<p><i>implementation-dependent</i>.
</p>
<span id="Description_003a-645"></span><h4 class="subsubheading">Description:</h4>

<p>The <i>value</i> of <code>*compile-print*</code>   is the default value of the <tt>:print</tt> <i>argument</i>
to <code>compile-file</code>.
The <i>value</i> of <code>*compile-verbose*</code> is the default value of the <tt>:verbose</tt> <i>argument</i>
to <code>compile-file</code>.
</p>
<span id="See-Also_003a-525"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#compile_002dfile">compile-file</a>
</p>


<hr>
<span id="g_t_002aload_002dprint_002a_003b-_002aload_002dverbose_002a"></span><div class="header">
<p>
Next: <a href="#g_t_002amodules_002a" accesskey="n" rel="next">*modules*</a>, Previous: <a href="#g_t_002acompile_002dprint_002a_003b-_002acompile_002dverbose_002a" accesskey="p" rel="prev">*compile-print*; *compile-verbose*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*load-print*; *load-verbose*</h4>
<span id="g_t_002aload_002dprint_002a_002c-_002aload_002dverbose_002a-_0028Variable_0029"></span><h3 class="heading">*load-print*, *load-verbose* (Variable)</h3>
<span id="index-_002aload_002dprint_002a-1"></span>
<span id="index-_002aload_002dprint_002a"></span>
<span id="index-_002aload_002dverbose_002a-1"></span>
<span id="index-_002aload_002dverbose_002a"></span>
<span id="g_t_002aload_002dverbose_002a"></span>

<span id="Value-Type_003a-31"></span><h4 class="subsubheading">Value Type:</h4>

<p>a <i>generalized boolean</i>.
</p>
<span id="Initial-Value_003a-31"></span><h4 class="subsubheading">Initial Value:</h4>

<p>The initial <i>value</i> of <code>*load-print*</code>   is <i>false</i>.
The initial <i>value</i> of <code>*load-verbose*</code> is <i>implementation-dependent</i>.
</p>
<span id="Description_003a-646"></span><h4 class="subsubheading">Description:</h4>

<p>The <i>value</i> of <code>*load-print*</code>   is the default value of the <tt>:print</tt> <i>argument</i>   to <code>load</code>.
The <i>value</i> of <code>*load-verbose*</code> is the default value of the <tt>:verbose</tt> <i>argument</i> to <code>load</code>.
</p>
<span id="See-Also_003a-526"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#load">load</a>
</p>


<hr>
<span id="g_t_002amodules_002a"></span><div class="header">
<p>
Next: <a href="#provide_003b-require" accesskey="n" rel="next">provide; require</a>, Previous: <a href="#g_t_002aload_002dprint_002a_003b-_002aload_002dverbose_002a" accesskey="p" rel="prev">*load-print*; *load-verbose*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">*modules*</h4>
<span id="g_t_002amodules_002a-_0028Variable_0029"></span><h3 class="heading">*modules* (Variable)</h3>
<span id="index-_002amodules_002a-1"></span>
<span id="index-_002amodules_002a"></span>



<span id="Value-Type_003a-32"></span><h4 class="subsubheading">Value Type:</h4>

<p>a <i>list</i> of <i>strings</i>.
</p>
<span id="Initial-Value_003a-32"></span><h4 class="subsubheading">Initial Value:</h4>

<p><i>implementation-dependent</i>.
</p>
<span id="Description_003a-647"></span><h4 class="subsubheading">Description:</h4>

<p>The <i>value</i> of <code>*modules*</code> is a list of names of the modules
that have been loaded into the current <i>Lisp image</i>.
</p>
<span id="Affected-By_003a-117"></span><h4 class="subsubheading">Affected By:</h4>

<p><code>provide</code>
</p>
<span id="See-Also_003a-527"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#provide">provide</a>,
<a href="#require">require</a>
</p>
<span id="Notes_003a-323"></span><h4 class="subsubheading">Notes:</h4>

<p>The variable <code>*modules*</code> is deprecated.
</p>


<hr>
<span id="provide_003b-require"></span><div class="header">
<p>
Previous: <a href="#g_t_002amodules_002a" accesskey="p" rel="prev">*modules*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="node-heading">provide; require</h4>
<span id="provide_002c-require-_0028Function_0029"></span><h3 class="heading">provide, require (Function)</h3>
<span id="index-provide-2"></span>
<span id="index-provide"></span>
<span id="index-require-2"></span>
<span id="index-require"></span>
<span id="provide"></span><span id="require"></span>


<span id="Syntax_003a-500"></span><h4 class="subsubheading">Syntax:</h4>

<dl>
<dt id="index-provide-1">Function: <strong>provide</strong> <em>module-name <span class="roman">→</span> <i>implementation-dependent</i></em></dt>
</dl>
<dl>
<dt id="index-require-1">Function: <strong>require</strong> <em>module-name <tt>&amp;optional</tt> pathname-list <span class="roman">→</span> <i>implementation-dependent</i></em></dt>
</dl>

<span id="Arguments-and-Values_003a-486"></span><h4 class="subsubheading">Arguments and Values:</h4>

<p><var>module-name</var>&mdash;a <i>string designator</i>.
</p>
<p><var>pathname-list</var>&mdash;<code>nil</code>, or
a <i>designator</i> 
for a <i>non-empty</i> <i>list</i> of <i>pathname designators</i>.
The default is <code>nil</code>.
</p>
<span id="Description_003a-648"></span><h4 class="subsubheading">Description:</h4>

<p><code>provide</code> adds the <var>module-name</var> to the <i>list</i> held by
<code>*modules*</code>, if such a name is not already present.
</p>
<p><code>require</code> tests for the presence of the <var>module-name</var> in the
<i>list</i> held by <code>*modules*</code>.
If it is present, <code>require</code> immediately returns.
Otherwise, an attempt is made to load an appropriate set of <i>files</i> as follows:
The <var>pathname-list</var> argument, if <i>non-nil</i>, 
specifies a list of <i>pathnames</i> to be loaded in order, from left to right.
If the <var>pathname-list</var> is <code>nil</code>,
an <i>implementation-dependent</i> mechanism will be invoked in an attempt
to load the module named <var>module-name</var>;
if no such module can be loaded, an error of <i>type</i> <code>error</code> is signaled.
</p>
<p>Both functions use <code>string=</code> to test for the presence of a <var>module-name</var>.
</p>
<span id="Examples_003a-460"></span><h4 class="subsubheading">Examples:</h4>


<div class="lisp">
<pre class="lisp">;;; This illustrates a nonportable use of REQUIRE, because it
;;; depends on the implementation-dependent file-loading mechanism.

(require &quot;CALCULUS&quot;)

;;; This use of REQUIRE is nonportable because of the literal 
;;; physical pathname.  

(require &quot;CALCULUS&quot; &quot;/usr/lib/lisp/calculus&quot;)

;;; One form of portable usage involves supplying a logical pathname,
;;; with appropriate translations defined elsewhere.

(require &quot;CALCULUS&quot; &quot;lib:calculus&quot;)

;;; Another form of portable usage involves using a variable or
;;; table lookup function to determine the pathname, which again
;;; must be initialized elsewhere.

(require &quot;CALCULUS&quot; *calculus-module-pathname*)
</pre></div>


<span id="Side-Effects_003a-81"></span><h4 class="subsubheading">Side Effects:</h4>

<p><code>provide</code> modifies <code>*modules*</code>.
</p>
<span id="Affected-By_003a-118"></span><h4 class="subsubheading">Affected By:</h4>

<p>The specific action taken by <code>require</code> is affected by calls to <code>provide</code>
(or, in general, any changes to the <i>value</i> of <code>*modules*</code>).
</p>
<span id="Exceptional-Situations_003a-236"></span><h4 class="subsubheading">Exceptional Situations:</h4>

<p>Should signal an error of <i>type</i> <code>type-error</code> if <var>module-name</var> is not a <i>string designator</i>.
</p>
<p>If <code>require</code> fails to perform the requested operation 
due to a problem while interacting with the <i>file system</i>,
an error of <i>type</i> <code>file-error</code> is signaled.
</p>
<p>An error of <i>type</i> <code>file-error</code> might be signaled if any <i>pathname</i> 
in <var>pathname-list</var> is a <i>designator</i> for a <i>wild</i> <i>pathname</i>.
</p>
<span id="See-Also_003a-528"></span><h4 class="subsubheading">See Also:</h4>

<p><a href="#g_t_002amodules_002a">*modules*</a>,
<a href="Filenames.html#Pathnames-as-Filenames">Section 19.1.2 (Pathnames as Filenames)</a>
</p>
<span id="Notes_003a-324"></span><h4 class="subsubheading">Notes:</h4>

<p>The functions <code>provide</code> and <code>require</code> are deprecated.
</p>
<p>If a module consists of a single <i>package</i>,
it is customary for the package and module names to be the same.
</p>




<hr>
<div class="header">
<p>
Previous: <a href="#g_t_002amodules_002a" accesskey="p" rel="prev">*modules*</a>, Up: <a href="#System-Construction" accesskey="u" rel="up">System Construction</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
