<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Time (ANSI Common Lisp)</title>

<meta name="description" content="Time (ANSI Common Lisp)">
<meta name="keywords" content="Time (ANSI Common Lisp)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="Table-of-Contents.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-External-Environment.html" rel="up" title="The External Environment">
<link href="decode_002duniversal_002dtime.html" rel="next" title="decode-universal-time">
<link href="Environment-Inquiry.html" rel="prev" title="Environment Inquiry">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {font-family: century schoolbook, serif;
      line-height: 1.3;
      padding-left: 5em; padding-right: 1em;
      padding-bottom: 1em; max-width: 60em;}
table {border-collapse: collapse}
span.roman { font-family: century schoolbook, serif; font-weight: normal; }
h1, h2, h3, h4, h5, h6 {font-family:  Helvetica, sans-serif}
dfn {font-family: inherit; font-variant: italic; font-weight: bolder }
kbd {font-family: monospace; text-decoration: underline}
var {font-family: Helvetica, sans-serif; font-variant: slanted}
td  {padding-right: 1em; padding-left: 1em}
sub {font-size: smaller}
.node {padding: 0; margin: 0}

-->
</style>


</head>

<body lang="en">
<span id="Time"></span><div class="header">
<p>
Previous: <a href="Environment-Inquiry.html" accesskey="p" rel="prev">Environment Inquiry</a>, Up: <a href="The-External-Environment.html" accesskey="u" rel="up">The External Environment</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Time-1"></span><h4 class="subsection">25.1.4 Time</h4>

<p>Time is represented in four different ways in <span class="roman">Common Lisp</span>:
<i>decoded time</i>,
<i>universal time</i>,
<i>internal time</i>,
and seconds.
<i>Decoded time</i> and <i>universal time</i> are used primarily to represent calendar time,
and are precise only to one second.
<i>Internal time</i> is used primarily to represent measurements of computer
time (such as run time) and is precise to some <i>implementation-dependent</i>
fraction of a second called an <i>internal time unit</i>,
as specified by <code>internal-time-units-per-second</code>.
An <i>internal time</i> can be used 
for either <i>absolute</i> and <i>relative</i> <i>time</i> measurements.
Both a <i>universal time</i> and a <i>decoded time</i> can be used 
only for <i>absolute</i> <i>time</i> measurements.
In the case of one function, <code>sleep</code>,
time intervals are represented as a non-negative <i>real</i> number of seconds.
</p>
<p>The next figure&nbsp;<!-- /@w -->shows <i>defined names</i> relating to <i>time</i>.
</p>

<div class="float"><span id="fig25_002e4"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>decode-universal-time</td><td>get-internal-run-time</td></tr>
<tr><td>encode-universal-time</td><td>get-universal-time</td></tr>
<tr><td>get-decoded-time</td><td>internal-time-units-per-second</td></tr>
<tr><td>get-internal-real-time</td><td>sleep</td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 25.4: </strong>Defined names involving Time.</p></div></div>

<span id="Decoded-Time"></span><h4 class="subsubsection">25.1.4.1 Decoded Time</h4>
<span id="DecodedTime"></span>
<p>A <span id="index-decoded-time"></span>
<em>decoded time</em> is an ordered series of nine values that, taken together,
represent a point in calendar time (ignoring <i>leap seconds</i>):
</p>

<dl compact="compact">
<dt><b>Second</b></dt>
<dd>

<p>An <i>integer</i> between 0 and&nbsp;59, inclusive.
</p>
</dd>
<dt><b>Minute</b></dt>
<dd>

<p>An <i>integer</i> between 0 and&nbsp;59, inclusive.
</p>
</dd>
<dt><b>Hour</b></dt>
<dd>

<p>An <i>integer</i> between 0 and&nbsp;23, inclusive.
</p>
</dd>
<dt><b>Date</b></dt>
<dd>

<p>An <i>integer</i> between 1 and&nbsp;31, inclusive (the upper limit actually
depends on the month and year, of course).
</p>
</dd>
<dt><b>Month</b></dt>
<dd>

<p>An <i>integer</i> between 1 and 12, inclusive;
1&nbsp;means January, 2&nbsp;means February, and so on; 12&nbsp;means December.
</p>
</dd>
<dt><b>Year</b></dt>
<dd>

<p>An <i>integer</i> indicating the year A.D.  However, if this 
<i>integer</i>
is between 0 and 99, the &ldquo;obvious&rdquo; year is used; more precisely,
that year is assumed that is equal to the 
<i>integer</i> modulo 100 and
within fifty years of the current year (inclusive backwards
and exclusive forwards).  
Thus, in the year 1978, year 28 is 1928
but year 27 is 2027.  (Functions that return time in this format always return
a full year number.) 
</p>
</dd>
<dt><b>Day of week</b></dt>
<dd>

<p>An <i>integer</i> between&nbsp;0 and&nbsp;6, inclusive;
0&nbsp;means Monday, 1&nbsp;means Tuesday, and so on; 6&nbsp;means Sunday.
</p>
</dd>
<dt><b>Daylight saving time flag</b></dt>
<dd>

<p>A <i>generalized boolean</i> that,
if <i>true</i>, indicates that daylight saving time is in effect.
</p>
</dd>
<dt><b>Time zone</b></dt>
<dd>

<p>A <i>time zone</i>.
</p></dd>
</dl>


<p>The next figure&nbsp;<!-- /@w -->shows <i>defined names</i> relating to <i>decoded time</i>.
</p>

<div class="float"><span id="fig25_002e5"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>decode-universal-time</td><td>get-decoded-time</td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 25.5: </strong>Defined names involving time in Decoded Time.</p></div></div>


<span id="Universal-Time"></span><h4 class="subsubsection">25.1.4.2 Universal Time</h4>
<span id="UniversalTime"></span>
<span id="index-universal-time"></span>
<p><em>Universal time</em> is an <i>absolute</i> <i>time</i> represented as a
single non-negative <i>integer</i>&mdash;the number of seconds since
midnight, January 1, 1900 GMT (ignoring <i>leap seconds</i>).
Thus the time 1 is 00:00:01 (that is, 12:00:01 a.m.) on January 1, 1900 GMT.
Similarly, the time 2398291201 corresponds to time 00:00:01 on January 1,
1976 GMT.
Recall that the year 1900 was not a leap year; for the purposes of
<span class="roman">Common Lisp</span>, a year is a leap year if and only if its number is divisible by 4,
except that years divisible by 100 are not leap years, except that years
divisible by 400 are leap years.  Therefore the year 2000 will
be a leap year.
Because <i>universal time</i> must be a non-negative <i>integer</i>,
times before the base time of midnight, January 1, 1900 GMT cannot be processed by <span class="roman">Common Lisp</span>.
</p>

<div class="float"><span id="fig25_002e6"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>decode-universal-time</td><td>get-universal-time</td></tr>
<tr><td>encode-universal-time</td><td></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 25.6: </strong>Defined names involving time in Universal Time.</p></div></div>


<span id="Internal-Time"></span><h4 class="subsubsection">25.1.4.3 Internal Time</h4>
<span id="InternalTime"></span>
<span id="index-internal-time"></span>
<p><em>Internal time</em> represents time as a single <i>integer</i>,
in terms of an <i>implementation-dependent</i> unit called an <i>internal time unit</i>.
Relative time is measured as a number of these units.
Absolute time is relative to an arbitrary time base.
</p>
<p>The next figure&nbsp;<!-- /@w -->shows <i>defined names</i> related to <i>internal time</i>.
</p>

<div class="float"><span id="fig25_002e7"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>get-internal-real-time</td><td>internal-time-units-per-second</td></tr>
<tr><td>get-internal-run-time</td><td></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 25.7: </strong>Defined names involving time in Internal Time.</p></div></div>


<span id="Seconds"></span><h4 class="subsubsection">25.1.4.4 Seconds</h4>

<p>One function, <code>sleep</code>, takes its argument as a non-negative <i>real</i> number
of seconds.  Informally, it may be useful to think of this as 
a <i>relative</i> <i>universal time</i>, but it differs in one important way:
<i>universal times</i> are always non-negative <i>integers</i>, whereas the argument to
<code>sleep</code> can be any kind of non-negative <i>real</i>, in order to allow for
the possibility of fractional seconds.
</p>

<div class="float"><span id="fig25_002e8"></span>
<table class="cartouche" border="1"><tr><td>
<table>
<tr><td>sleep</td><td></td></tr>
</table>
</td></tr></table>

<div class="float-caption"><p><strong>Figure 25.8: </strong>Defined names involving time in Seconds.</p></div></div>




<hr>
<div class="header">
<p>
Previous: <a href="Environment-Inquiry.html" accesskey="p" rel="prev">Environment Inquiry</a>, Up: <a href="The-External-Environment.html" accesskey="u" rel="up">The External Environment</a> &nbsp; [<a href="Table-of-Contents.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
